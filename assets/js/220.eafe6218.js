(window.webpackJsonp=window.webpackJsonp||[]).push([[220],{534:function(t,s,a){"use strict";a.r(s);var e=a(7),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"搭建fisco的联盟链"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搭建fisco的联盟链"}},[t._v("#")]),t._v(" 搭建Fisco的联盟链")]),t._v(" "),s("h2",{attrs:{id:"fisco的基础环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fisco的基础环境"}},[t._v("#")]),t._v(" Fisco的基础环境")]),t._v(" "),s("h3",{attrs:{id:"更换ubuntu的源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更换ubuntu的源"}},[t._v("#")]),t._v(" 更换Ubuntu的源")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("root@ubuntu-farbic-1:~"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vim /etc/apt/sources.list")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注释掉原来的内容，换成以下内容，注意根据Ubuntu版本匹配，以下内容适用于Ubuntu20.04")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 添加阿里源")]),t._v("\ndeb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 添加清华源")]),t._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse")]),t._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse")]),t._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse")]),t._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse multiverse")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新软件包")]),t._v("\nroot@ubuntu-farbic-1:~"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# apt update")]),t._v("\nroot@ubuntu-farbic-1:~"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# apt upgrade")]),t._v("\n")])])]),s("h3",{attrs:{id:"环境安装java"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境安装java"}},[t._v("#")]),t._v(" 环境安装Java")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装默认Java版本(Java 8或以上)")]),t._v("\nroot@ubuntu-farbic-1:~"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo apt install -y default-jdk")]),t._v("\n\nroot@ubuntu-farbic-1:~"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vim /etc/profile")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JAVA_HOME")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/lib/jvm/java-11-openjdk-amd64\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JRE_HOME")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JAVA_HOME}")]),t._v("/jre\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CLASSPATH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(".:"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JAVA_HOME}")]),t._v("/lib:"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JRE_HOME}")]),t._v("/lib\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JAVA_HOME}")]),t._v("/bin:"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JRE_HOME}")]),t._v("/bin:"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PATH")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查询Java版本")]),t._v("\nroot@ubuntu-farbic-1:~"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# java -version")]),t._v("\nopenjdk version "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"11.0.15"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("-04-19\nOpenJDK Runtime Environment "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11.0")]),t._v(".15+10-Ubuntu-0ubuntu0.20.04.1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nOpenJDK "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),t._v("-Bit Server VM "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11.0")]),t._v(".15+10-Ubuntu-0ubuntu0.20.04.1, mixed mode, sharing"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"安装配置数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装配置数据库"}},[t._v("#")]),t._v(" 安装配置数据库")]),t._v(" "),s("p",[t._v("需要安装MySQL5.6以上或者是Mariadb5.6以上，这里使用的是maraidb数据库。")]),t._v(" "),s("p",[t._v("安装完成后需要新建数据库名称和数据库的的访问用户和密码，配置清单在Fisco的部署配置文件中。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("root@ubuntu-farbic-2:~"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# apt install -y mariadb-server")]),t._v("\nroot@ubuntu-farbic-1:~"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mysql_secure_installation ")]),t._v("\n\nNOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB\n      SERVERS IN PRODUCTION USE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("  PLEASE READ EACH STEP CAREFULLY"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n\nIn order to log into MariaDB to secure it, we"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ll need the current\npassword for the root user.  If you'")]),t._v("ve just installed MariaDB, and\nyou haven"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'t set the root password yet, the password will be blank,\nso you should just press enter here.\n\nEnter current password for root (enter for none): \nOK, successfully used password, moving on...\n\nSetting the root password ensures that nobody can log into the MariaDB\nroot user without the proper authorisation.\n\nSet root password? [Y/n] \nNew password: \nRe-enter new password: \nPassword updated successfully!\nReloading privilege tables..\n ... Success!\n\n\nBy default, a MariaDB installation has an anonymous user, allowing anyone\nto log into MariaDB without having to have a user account created for\nthem.  This is intended only for testing, and to make the installation\ngo a bit smoother.  You should remove them before moving into a\nproduction environment.\n\nRemove anonymous users? [Y/n] y\n ... Success!\n\nNormally, root should only be allowed to connect from '")]),t._v("localhost"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.  This\nensures that someone cannot guess at the root password from the network.\n\nDisallow root login remotely? [Y/n] y\n ... Success!\n\nBy default, MariaDB comes with a database named '")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("' that anyone can\naccess.  This is also intended only for testing, and should be removed\nbefore moving into a production environment.\n\nRemove test database and access to it? [Y/n] \n - Dropping test database...\n ... Success!\n - Removing privileges on test database...\n ... Success!\n\nReloading the privilege tables will ensure that all changes made so far\nwill take effect immediately.\n\nReload privilege tables now? [Y/n] \n ... Success!\n\nCleaning up...\n\nAll done!  If you'")]),t._v("ve completed all of the above steps, your MariaDB\ninstallation should now be secure.\n\nThanks "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" using MariaDB"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n")])])]),s("p",[t._v("完全卸载MySQL的方法：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" purge mysql-*\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-rf")]),t._v(" /etc/mysql/ /var/lib/mysql\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" autoremove\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" autoclean\n")])])]),s("h3",{attrs:{id:"安装配置python环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装配置python环境"}},[t._v("#")]),t._v(" 安装配置Python环境")]),t._v(" "),s("p",[t._v("在Ubuntu的20.04的版本中，默认的Python环境是python3的版本。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这是安装Python的环境")]),t._v("\nroot@ubuntu-farbic-1:~"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo apt-get install -y python3.6")]),t._v("\nroot@ubuntu-farbic-1:~"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo apt-get install -y python3-pip")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这是配置Python的依赖")]),t._v("\nroot@ubuntu-farbic-1:~"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo apt-get install -y python3-pip")]),t._v("\nroot@ubuntu-farbic-1:~"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo pip3 install PyMySQL")]),t._v("\nroot@ubuntu-farbic-1:~"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pip3 install PyMySQL")]),t._v("\nCollecting PyMySQL\n  Downloading PyMySQL-1.0.2-py3-none-any.whl "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("43")]),t._v(" kB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("████████████████████████████████"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("43")]),t._v(" kB "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("624")]),t._v(" kB/s \nInstalling collected packages: PyMySQL\nSuccessfully installed PyMySQL-1.0.2\n")])])]),s("h2",{attrs:{id:"部署webase管理平台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署webase管理平台"}},[t._v("#")]),t._v(" 部署WeBASE管理平台")]),t._v(" "),s("h3",{attrs:{id:"拉取部署脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拉取部署脚本"}},[t._v("#")]),t._v(" 拉取部署脚本")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 新建一个目录")]),t._v("\nroot@ubuntu-farbic-1:~"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir fisco && cd fisco")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取部署的包")]),t._v("\nroot@ubuntu-farbic-1:~/fisco"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# wget https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/WeBASE/releases/download/v1.5.4/webase-deploy.zip")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解压部署压缩包")]),t._v("\nroot@ubuntu-farbic-1:~/fisco"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# unzip webase-deploy.zip")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入目录")]),t._v("\nroot@ubuntu-farbic-1:~/fisco"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd webase-deploy/")]),t._v("\n")])])]),s("h3",{attrs:{id:"配置文件介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件介绍"}},[t._v("#")]),t._v(" 配置文件介绍")]),t._v(" "),s("p",[t._v("① mysql数据库需提前安装，已安装直接配置即可，还未安装请参看"),s("a",{attrs:{href:"https://webasedoc.readthedocs.io/zh_CN/latest/docs/WeBASE/install.html#mysql",target:"_blank",rel:"noopener noreferrer"}},[t._v("数据库部署"),s("OutboundLink")],1),t._v("；")]),t._v(" "),s("p",[t._v("② 修改配置文件（"),s("code",[t._v("vi common.properties")]),t._v("）；")]),t._v(" "),s("ul",[s("li",[t._v("若使用可视化部署，则忽略下文，将修改"),s("code",[t._v("visual-deploy.properties")]),t._v("，并进行可视化部署依赖服务的一键安装，具体请参考"),s("a",{attrs:{href:"https://webasedoc.readthedocs.io/zh_CN/latest/docs/WeBASE-Install/visual_deploy.html#visual-deploy-oneclick",target:"_blank",rel:"noopener noreferrer"}},[t._v("可视化部署-一键安装依赖服务"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("③ 一键部署支持使用已有链或者搭建新链。通过参数”if.exist.fisco”配置是否使用已有链，以下配置二选一即可：")]),t._v(" "),s("ul",[s("li",[t._v("当配置”yes”时，需配置已有链的路径"),s("code",[t._v("fisco.dir")]),t._v("。路径下要存在sdk目录，sdk目录中包含ca.crt, sdk.crt, sdk.key及gm目录，gm目录中包含国密SSL所需证书，包含gmca.crt、gmsdk.crt、gmsdk.key、gmensdk.crt和gmensdk.key")]),t._v(" "),s("li",[t._v("当配置”no”时，需配置节点fisco版本和节点安装个数，搭建的新链默认两个群组")])]),t._v(" "),s("p",[t._v("④ 服务端口不能小于1024")]),t._v(" "),s("p",[t._v("⑤ 部署时，修改 "),s("code",[t._v("common.properties")]),t._v(" 配置文件")]),t._v(" "),s("blockquote",[s("p",[t._v("注：使用国密版需要修改设置配置项"),s("code",[t._v("encrypt.type=1")]),t._v("。前置SDK与节点默认使用非国密SSL，如果需要使用国密SSL，需要修改设置配置项"),s("code",[t._v("encrypt.sslType=1")]),t._v("。")])]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("root@ubuntu-farbic-1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("~/fisco/webase-deploy# cat common.properties ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# WeBASE子系统的最新版本(v1.1.0或以上版本)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("webase.web.version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("v1.5.4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("webase.mgr.version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("v1.5.4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("webase.sign.version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("v1.5.3")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("webase.front.version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("v1.5.4")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#####################################################################")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 使用Docker启用Mysql服务，则需要配置以下值")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1: enable mysql in docker")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 0: mysql run in host, required fill in the configuration of webase-node-mgr and webase-sign")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("docker.mysql")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("1")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# if [docker.mysql=1], mysql run in host (only works in [installDockerAll])")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# run mysql 5.6 by docker")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("docker.mysql.port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("23306")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# default user [root]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("docker.mysql.password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("123456")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#####################################################################")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 不使用Docker启动Mysql，则需要配置以下值")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点管理子系统mysql数据库配置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("mysql.ip")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("192.168.100.168")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("mysql.port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("3306")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("mysql.user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("root")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("mysql.password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("000000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("mysql.database")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("webasenodemanager")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 签名服务子系统mysql数据库配置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("sign.mysql.ip")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("192.168.100.168")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("sign.mysql.port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("3306")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("sign.mysql.user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("root\t")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("sign.mysql.password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("000000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("sign.mysql.database")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("webasesign")]),t._v("\n\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点前置子系统h2数据库名和所属机构")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("front.h2.name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("webasefront")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("front.org")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("fisco")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# WeBASE管理平台服务端口")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("web.port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("5000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启用移动端管理平台 (0: disable, 1: enable)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("web.h5.enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("1")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点管理子系统服务端口")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("mgr.port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("5001")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点前置子系统端口")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("front.port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("5002")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 签名服务子系统端口")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("sign.port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("5004")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点监听Ip")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("node.listenIp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("127.0.0.1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点p2p端口")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("node.p2pPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("30300")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点链上链下端口")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("node.channelPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("20200")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点rpc端口")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("node.rpcPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("8545")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 加密类型 (0: ECDSA算法, 1: 国密算法)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("encrypt.type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# SSL连接加密类型 (0: ECDSA SSL, 1: 国密SSL)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 只有国密链才能使用国密SSL")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("encrypt.sslType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("0")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否使用已有的链（yes/no）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("if.exist.fisco")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("no")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用已有链时需配置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 已有链的路径，start_all.sh脚本所在路径")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路径下要存在sdk目录（sdk目录中包含了SSL所需的证书，即ca.crt、sdk.crt、sdk.key和gm目录（包含国密SSL证书，gmca.crt、gmsdk.crt、gmsdk.key、gmensdk.crt和gmensdk.key）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("fisco.dir")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("/data/app/nodes/127.0.0.1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 前置所连接节点，在127.0.0.1目录中的节点中的一个")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点路径下要存在conf文件夹，conf里存放节点证书（ca.crt、node.crt和node.key）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("node.dir")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("node0")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 搭建新链时需配置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# FISCO-BCOS版本")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("fisco.version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("2.7.2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 搭建节点个数（默认两个）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("node.counts")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("nodeCounts")]),t._v("\n")])])]),s("h3",{attrs:{id:"数据库配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据库配置"}},[t._v("#")]),t._v(" 数据库配置")]),t._v(" "),s("p",[t._v("WeBASE需要使用到两个数据库，分别是节点管理子系统mysql数据库"),s("code",[t._v("webasenodemanager")]),t._v("和签名服务子系统mysql数据库"),s("code",[t._v("webasesign")]),t._v("。")]),t._v(" "),s("p",[t._v("因此，需要给WeBASE创建一个可用帐号，并把这两个数据库的权限赋予这个帐号。\n（注：这两个数据库的名字可以在WeBASE配置文件中修改，这里就直接使用默认的名字。）")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[t._v("MariaDB "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webase'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@'localhost'")]),t._v(" identified "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000000'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nQuery OK"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rows")]),t._v(" affected "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.000")]),t._v(" sec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nMariaDB "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("database")]),t._v(" webasenodemanager"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nQuery OK"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("row")]),t._v(" affected "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.000")]),t._v(" sec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nMariaDB "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("database")]),t._v(" webasesign"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nQuery OK"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("row")]),t._v(" affected "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.000")]),t._v(" sec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nMariaDB "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("grant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("all")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("privileges")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" webasenodemanager"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webase'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@'localhost'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nQuery OK"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rows")]),t._v(" affected "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.000")]),t._v(" sec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nMariaDB "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("grant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("all")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("privileges")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" webasesign"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webase'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@'localhost'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nQuery OK"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rows")]),t._v(" affected "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.000")]),t._v(" sec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[t._v("#")]),t._v(" 部署")]),t._v(" "),s("p",[t._v("执行installAll命令，部署服务将自动部署FISCO BCOS节点，并部署 WeBASE 中间件服务，包括签名服务（sign）、节点前置（front）、节点管理服务（node-mgr）、节点管理前端（web）")]),t._v(" "),s("p",[s("strong",[t._v("备注：")])]),t._v(" "),s("ul",[s("li",[t._v("部署脚本会拉取相关安装包进行部署，需保持网络畅通")]),t._v(" "),s("li",[t._v("首次部署需要下载编译包和初始化数据库，重复部署时可以根据提示不重复操作")]),t._v(" "),s("li",[t._v("部署过程中出现报错时，可根据错误提示进行操作，或根据本文档中的"),s("a",{attrs:{href:"https://webasedoc.readthedocs.io/zh_CN/latest/docs/WeBASE/install.html#q&a",target:"_blank",rel:"noopener noreferrer"}},[t._v("常见问题"),s("OutboundLink")],1),t._v("进行排查")]),t._v(" "),s("li",[s("strong",[t._v("不要用sudo执行脚本")]),t._v("，例如"),s("code",[t._v("sudo python3 deploy.py installAll")]),t._v("（sudo会导致无法获取当前用户的环境变量如JAVA_HOME）")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 部署并启动所有服务")]),t._v("\npython3 deploy.py installAll\n")])])]),s("p",[t._v("部署完成后可以看到"),s("code",[t._v("deploy has completed")]),t._v("的日志：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("root@ubuntu-fisco1:~/fisco/webase-deploy"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# python3 deploy.py installAll")]),t._v("\n···\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n              _    _     ______  ___  _____ _____ \n             "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ___ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("/ _ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("/  ___"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  ___"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ___"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("_/ / /_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("--."),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("__  \n             "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("/ _ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ___ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  _  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("--. "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  __"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" \n             "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("  /"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  __"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("_/ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" /"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("__/ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("___ \n              "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("/  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("/ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("___"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("____/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("____/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("____/  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("      deploy  has completed     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("    webase-web version  v1.5.4        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("    webase-node-mgr version  v1.5.4   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("    webase-sign version  v1.5.3       "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("    webase-front version  v1.5.4      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n")])])]),s("p",[t._v("服务部署后，需要对各服务进行启停操作，可以使用以下命令：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 一键部署")]),t._v("\n部署并启动所有服务        python3 deploy.py installAll\n停止一键部署的所有服务    python3 deploy.py stopAll\n启动一键部署的所有服务    python3 deploy.py startAll\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 各子服务启停")]),t._v("\n启动FISCO-BCOS节点:      python3 deploy.py startNode\n停止FISCO-BCOS节点:      python3 deploy.py stopNode\n启动WeBASE-Web:          python3 deploy.py startWeb\n停止WeBASE-Web:          python3 deploy.py stopWeb\n启动WeBASE-Node-Manager: python3 deploy.py startManager\n停止WeBASE-Node-Manager: python3 deploy.py stopManager\n启动WeBASE-Sign:        python3 deploy.py startSign\n停止WeBASE-Sign:        python3 deploy.py stopSign\n启动WeBASE-Front:        python3 deploy.py startFront\n停止WeBASE-Front:        python3 deploy.py stopFront\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 可视化部署")]),t._v("\n部署并启动可视化部署的所有服务  python3 deploy.py installWeBASE\n停止可视化部署的所有服务  python3 deploy.py stopWeBASE\n启动可视化部署的所有服务  python3 deploy.py startWeBASE\n")])])]),s("h3",{attrs:{id:"检查服务日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#检查服务日志"}},[t._v("#")]),t._v(" 检查服务日志")]),t._v(" "),s("p",[t._v("各子服务的日志路径如下：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-- webase-deploy "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 一键部署目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-- log "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 部署日志目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-- webase-web "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 管理平台目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-- log "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 管理平台日志目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-- webase-node-mgr "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点管理服务目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-- log "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点管理服务日志目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-- webase-sign "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 签名服务目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-- log "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 签名服务日志目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-- webase-front "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点前置服务目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-- log "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点前置服务日志目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-- nodes "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 一件部署搭链节点目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-- "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-- node0 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 具体节点目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-- log "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点日志目录")]),t._v("\n")])])]),s("p",[s("em",[t._v("备注：当前节点日志路径为一键部署搭链的路径，使用已有链请在相关路径查看日志")])]),t._v(" "),s("p",[t._v("日志目录中包含"),s("code",[t._v("{XXX}.log")]),t._v("全量日志文件和"),s("code",[t._v("{XXX}-error.log")]),t._v("错误日志文件")]),t._v(" "),s("ul",[s("li",[s("em",[t._v("通过日志定位错误问题时，可以结合"),s("code",[t._v(".log")]),t._v("全量日志和"),s("code",[t._v("-error.log")]),t._v("错误日志两种日志信息进行排查。")]),t._v("，如查询WeBASE-Front日志，则打开"),s("code",[t._v("WeBASE-Front-error.log")]),t._v("可以快速找到错误信息，根据错误查看"),s("code",[t._v("WeBASE-Front.log")]),t._v("的相关内容，可以看到错误日志前后的普通日志信息")])]),t._v(" "),s("h3",{attrs:{id:"访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#访问"}},[t._v("#")]),t._v(" 访问")]),t._v(" "),s("p",[t._v("WeBASE管理平台：")]),t._v(" "),s("ul",[s("li",[t._v("一键部署完成后，打开浏览器（Chrome Safari或Firefox）访问http://localhost:5000")])]),t._v(" "),s("p",[s("strong",[t._v("备注：")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("部署服务器IP和管理平台服务端口需对应修改，网络策略需开通")]),t._v(" "),s("ul",[s("li",[t._v("使用云服务厂商的服务器时，需要开通网络安全组的对应端口。如开放webase使用的5000端口")])])]),t._v(" "),s("li",[s("p",[t._v("WeBASE管理平台使用说明请查看")]),t._v(" "),s("p",[t._v("使用手册")]),t._v(" "),s("p",[t._v("（获取WeBASE管理平台默认账号和密码，并初始化系统配置）")]),t._v(" "),s("ul",[s("li",[t._v("默认账号为"),s("code",[t._v("admin")]),t._v("，默认密码为"),s("code",[t._v("Abcd1234")]),t._v("。首次登陆要求重置密码")]),t._v(" "),s("li",[t._v("添加节点前置WeBASE-Front到WeBASE管理平台；一键部署时，节点前置与节点管理服务默认是同机部署，添加前置则填写IP为"),s("code",[t._v("127.0.0.1")]),t._v("，默认端口为"),s("code",[t._v("5002")]),t._v("。参考上文中"),s("code",[t._v("common.properties")]),t._v("的配置项"),s("code",[t._v("front.port={frontPort}")])])])]),t._v(" "),s("li",[s("p",[t._v("检查节点前置是否启动，可以通过访问"),s("code",[t._v("http://{frontIp}:{frontPort}/WeBASE-Front")]),t._v("(默认端口5002)；访问前，确保服务端已对本地机器开放端口，如开放front的5002端口。（不建议节点前置的端口对公网开放访问权限，应对部分机器IP按需开放）")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202207072051339.png",alt:"image-20220707205138273"}})]),t._v(" "),s("h2",{attrs:{id:"调用helloworld合约"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调用helloworld合约"}},[t._v("#")]),t._v(" 调用HelloWorld合约")]),t._v(" "),s("h3",{attrs:{id:"编写helloworld合约"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编写helloworld合约"}},[t._v("#")]),t._v(" 编写HelloWorld合约")]),t._v(" "),s("p",[t._v("HelloWorld合约提供两个接口，分别是"),s("code",[t._v("get()")]),t._v("和"),s("code",[t._v("set()")]),t._v("，用于获取/设置合约变量"),s("code",[t._v("name")]),t._v("。合约内容如下:")]),t._v(" "),s("div",{staticClass:"language-solidity extra-class"},[s("pre",{pre:!0,attrs:{class:"language-solidity"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pragma")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("solidity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token version number"}},[t._v("0.4.24")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("contract")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloWorld")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("HelloWorld")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, World!"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("returns")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"部署helloworld合约"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署helloworld合约"}},[t._v("#")]),t._v(" 部署HelloWorld合约")]),t._v(" "),s("p",[t._v("为了方便用户快速体验，HelloWorld合约已经写好在页面中。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202207072124700.png",alt:"image-20220707212420864"}})]),t._v(" "),s("h3",{attrs:{id:"调用helloworld合约-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调用helloworld合约-2"}},[t._v("#")]),t._v(" 调用HelloWorld合约")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202207072126381.png",alt:"image-20220707212619681"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202207072126340.png",alt:"image-20220707212632702"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);