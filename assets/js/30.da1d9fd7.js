(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{343:function(t,a,s){"use strict";s.r(a);var e=s(7),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"éƒ¨ç½²å¾®æœåŠ¡å‘Šè­¦ç›‘æ§ç³»ç»Ÿ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#éƒ¨ç½²å¾®æœåŠ¡å‘Šè­¦ç›‘æ§ç³»ç»Ÿ"}},[t._v("#")]),t._v(" éƒ¨ç½²å¾®æœåŠ¡å‘Šè­¦ç›‘æ§ç³»ç»Ÿ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205082345672.png",alt:"c9266c472c142b93a312365ebad8eb4"}})]),t._v(" "),a("h3",{attrs:{id:"ğŸ“Œå®¹å™¨åŒ–éƒ¨ç½²node-exporter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Œå®¹å™¨åŒ–éƒ¨ç½²node-exporter"}},[t._v("#")]),t._v(" ğŸ“Œå®¹å™¨åŒ–éƒ¨ç½²Node-Exporter")]),t._v(" "),a("p",[t._v("åœ¨masterèŠ‚ç‚¹ä¸Šç¼–å†™ /root/Monitor/Dockerfile-exporter æ–‡ä»¶æ„å»º monitor-exporter:v1.0 é•œåƒå…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š(éœ€è¦ç”¨åˆ°çš„è½¯ä»¶åŒ…ï¼šhttp://10.24.1.46/Monitor.tar.gz)")]),t._v(" "),a("p",[t._v("ï¼ˆ1ï¼‰åŸºç¡€é•œåƒï¼š"),a("code",[t._v("centos:centos7.9.2009 ï¼›")])]),t._v(" "),a("p",[t._v("ï¼ˆ2ï¼‰ä½¿ç”¨äºŒè¿›åˆ¶åŒ… "),a("code",[t._v("node_exporter-0.18.1.linux-amd64.tar.gz")]),t._v(" å®‰è£…"),a("code",[t._v("node-exporter")]),t._v("æœåŠ¡ï¼›")]),t._v(" "),a("p",[t._v("ï¼ˆ3ï¼‰å¼€æ”¾ç«¯å£ï¼š"),a("code",[t._v("9100")]),t._v(" ï¼›")]),t._v(" "),a("p",[t._v("ï¼ˆ4ï¼‰è®¾ç½®æœåŠ¡å¼€æœºè‡ªå¯ã€‚")]),t._v(" "),a("p",[t._v("å½“å‰æ‰€æœ‰çš„æ–‡ä»¶å¦‚ä¸‹:")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master Monitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ll")]),t._v("\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("369616")]),t._v("\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25880024")]),t._v(" May "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v(" 08:18 alertmanager-0.24.0.linux-amd64.tar.gz\n-rw-------. "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("211696640")]),t._v(" Jan "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(" 08:49 CentOS_7.9.2009.tar\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("952")]),t._v(" May "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":16 docker-compose.yaml\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("633")]),t._v(" May "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(":55 Dockerfile-alert\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("243")]),t._v(" May "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":47 Dockerfile-exporter\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("191")]),t._v(" May "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" 05:33 Dockerfile-grafana\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("519")]),t._v(" May "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":17 Dockerfile-prometheus\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("59635417")]),t._v(" May "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v(" 08:18 grafana-6.4.1.linux-amd64.tar.gz\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8083296")]),t._v(" May "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v(" 08:17 node_exporter-0.18.1.linux-amd64.tar.gz\ndrwxr-xr-x. "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3434")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3434")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("132")]),t._v(" May "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" 06:42 prometheus-2.29.1.linux-amd64\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("73156341")]),t._v(" May "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v(" 08:18 prometheus-2.29.1.linux-amd64.tar.gz\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1122")]),t._v(" May "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v(":37 prometheus.yml\n")])])]),a("div",{staticClass:"language-dockerfile extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" centos:centos7.9.2009")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("MAINTAINER")]),t._v(" Chinaskill ")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" node_exporter-0.18.1.linux-amd64.tar.gz /opt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RUN")]),t._v(" mv /opt/node_exporter-0.18.1.linux-amd64/node_exporter  /bin/node_exporter")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXPOSE")]),t._v(" 9100  ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENTRYPOINT")]),t._v("  [ "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/bin/node_exporter"')]),t._v(" ]")]),t._v("\n\n[root@master ~]# docker build -t monitor-exporter:v1.0 -f Dockerfile-exporter .\n")])])]),a("p",[t._v("æ£€æµ‹å‘½ä»¤1ï¼š")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /rootMonitor "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" build "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" monitor-exporterv1.0 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" Dockerfile-exporter "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\nè¿”å›\nnode_exporter-0.18.1.linux-amd64.tar.gz "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9100")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" Successfully tagged monitor-exporterv1.0\n\næ£€æµ‹å‘½ä»¤2ï¼š\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--name")]),t._v(" exporter-exam-jiance monitor-exporter:v1.0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" exporter-exam-jiance "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-aux")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" exporter-exam-jiance\nè¿”å›\nnode_exporter\n")])])]),a("h3",{attrs:{id:"ğŸ“Œå®¹å™¨åŒ–éƒ¨ç½²alertmanager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Œå®¹å™¨åŒ–éƒ¨ç½²alertmanager"}},[t._v("#")]),t._v(" ğŸ“Œå®¹å™¨åŒ–éƒ¨ç½²Alertmanager")]),t._v(" "),a("p",[t._v("åœ¨masterèŠ‚ç‚¹ä¸Šç¼–å†™ /root/Monitor/Dockerfile-alert æ–‡ä»¶æ„å»º monitor-alert:v1.0 é•œåƒå…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š(éœ€è¦ç”¨åˆ°çš„è½¯ä»¶åŒ…ï¼šhttp://10.24.1.46/Monitor.tar.gz)")]),t._v(" "),a("p",[t._v("ï¼ˆ1ï¼‰åŸºç¡€é•œåƒï¼š"),a("code",[t._v("centos:centos7.9.2009 ï¼›")])]),t._v(" "),a("p",[t._v("ï¼ˆ2ï¼‰ä½¿ç”¨æä¾›çš„äºŒè¿›åˆ¶åŒ… "),a("code",[t._v("alertmanager-0.19.0.linux-amd64.tar.gz")]),t._v(" å®‰è£… "),a("code",[t._v("Alertmanager")]),t._v("æœåŠ¡;")]),t._v(" "),a("p",[t._v("ï¼ˆ3ï¼‰å¼€æ”¾ç«¯å£ï¼š"),a("code",[t._v("9093, 9094")]),t._v("ï¼›")]),t._v(" "),a("p",[t._v("ï¼ˆ4ï¼‰è®¾ç½®æœåŠ¡å¼€æœºè‡ªå¯ã€‚")]),t._v(" "),a("div",{staticClass:"language-dockerfile extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" centos:centos7.9.2009")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("MAINTAINER")]),t._v(" Chinaskill")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" alertmanager-0.24.0.linux-amd64.tar.gz /bin/ ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RUN")]),t._v(" mv /bin/alertmanager-0.24.0.linux-amd64/ /bin/alertmanager")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXPOSE")]),t._v(" 9093 9094  ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENTRYPOINT")]),t._v(" ["),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/bin/alertmanager/alertmanager"')]),t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CMD")]),t._v(" ["),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--config.file=/bin/alertmanager/alertmanager.yml"')]),t._v("] ")]),t._v("\n\n[root@master ~]# docker build -t monitor-alert:v1.0 -f Dockerfile-alert .\n")])])]),a("p",[t._v("æ£€æµ‹å‘½ä»¤1ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /root/Monitor/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" build "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" monitor-alert:v1.0 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" Dockerfile-alert "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\nè¿”å›\nalertmanager-0.19.0.linux-amd64.tar.gz "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9093")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" Successfully tagged monitor-alert:v1.0\n\næ£€æµ‹å‘½ä»¤2ï¼š\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--name")]),t._v(" alert-exam-jiance monitor-alert:v1.0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" alert-exam-jiance "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-aux")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" alert-exam-jiance\nè¿”å›\nalertmanager\n")])])]),a("h3",{attrs:{id:"ğŸ“Œå®¹å™¨åŒ–éƒ¨ç½²grafana"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Œå®¹å™¨åŒ–éƒ¨ç½²grafana"}},[t._v("#")]),t._v(" ğŸ“Œå®¹å™¨åŒ–éƒ¨ç½²Grafana")]),t._v(" "),a("p",[t._v("åœ¨masterèŠ‚ç‚¹ä¸Šç¼–å†™ /root/Monitor/Dockerfile-grafana æ–‡ä»¶æ„å»º monitor-grafana:v1.0 é•œåƒå…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š(éœ€è¦ç”¨åˆ°çš„è½¯ä»¶åŒ…ï¼šhttp://10.24.1.46/Monitor.tar.gz)")]),t._v(" "),a("p",[t._v("ï¼ˆ1ï¼‰åŸºç¡€é•œåƒï¼š"),a("code",[t._v("centos:centos7.9.2009 ï¼›")])]),t._v(" "),a("p",[t._v("ï¼ˆ2ï¼‰ä½¿ç”¨æä¾›çš„äºŒè¿›åˆ¶åŒ… "),a("code",[t._v("grafana-6.4.1.linux-amd64.tar.gz")]),t._v(" å®‰è£… "),a("code",[t._v("grafana")]),t._v("æœåŠ¡;")]),t._v(" "),a("p",[t._v("ï¼ˆ3ï¼‰å¼€æ”¾ç«¯å£ï¼š"),a("code",[t._v("3000 ï¼›")])]),t._v(" "),a("p",[t._v("ï¼ˆ4ï¼‰è®¾ç½® nacos æœåŠ¡å¼€æœºè‡ªå¯ã€‚")]),t._v(" "),a("div",{staticClass:"language-dockerfile extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" centos:centos7.9.2009")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("MAINTAINER")]),t._v(" Chinaskill ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" grafana-6.4.1.linux-amd64.tar.gz /usr/ ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WORKDIR")]),t._v(" /usr/grafana-6.4.1/  ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXPOSE")]),t._v(" 3000")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENTRYPOINT")]),t._v(" ["),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/usr/grafana-6.4.1/bin/grafana-server"')]),t._v("]")]),t._v("\n\n[root@master ~]# docker build -t monitor-grafana:v1.0 -f Dockerfile-grafana .\n")])])]),a("p",[t._v("æ£€æµ‹å‘½ä»¤1ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /root/Monitor/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" build "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" monitor-grafana:v1.0 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" Dockerfile-grafana "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\nè¿”å›\ngrafana-6.4.1.linux-amd64.tar.gz "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" successfully tagged monitor-grafana:v1.0\n\næ£€æµ‹å‘½ä»¤2ï¼š\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--name")]),t._v(" grafana-exam-jiance monitor-grafana:v1.0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" grafana-exam-jiance "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-aux")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" grafana-exam-jiance\nè¿”å›\ngrafana-server\n")])])]),a("h3",{attrs:{id:"ğŸ“Œå®¹å™¨åŒ–éƒ¨ç½²prometheus"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Œå®¹å™¨åŒ–éƒ¨ç½²prometheus"}},[t._v("#")]),t._v(" ğŸ“Œå®¹å™¨åŒ–éƒ¨ç½²Prometheus")]),t._v(" "),a("p",[t._v("åœ¨masterèŠ‚ç‚¹ä¸Šç¼–å†™ /rootMonitor/Dockerfile-prometheus æ–‡ä»¶æ„å»º monitor-prometheus:v1.0 é•œåƒå…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š(éœ€è¦ç”¨åˆ°çš„è½¯ä»¶åŒ…ï¼šhttp://10.24.1.46/Monitor.tar.gz)")]),t._v(" "),a("p",[t._v("ï¼ˆ1ï¼‰åŸºç¡€é•œåƒï¼š"),a("code",[t._v("centos:centos7.9.2009 ï¼›")])]),t._v(" "),a("p",[t._v("ï¼ˆ2ï¼‰ä½¿ç”¨æä¾›çš„äºŒè¿›åˆ¶åŒ… "),a("code",[t._v("monitor-2.13.0.linux-amd64.tar.gz")]),t._v(" å®‰è£…"),a("code",[t._v("promethues")]),t._v(" æœåŠ¡;")]),t._v(" "),a("p",[t._v("ï¼ˆ3ï¼‰ç¼–å†™ "),a("code",[t._v("prometheus.yml")]),t._v("æ–‡ä»¶ï¼Œåˆ›å»º3ä¸ªä»»åŠ¡æ¨¡æ¿ï¼š"),a("code",[t._v("prometheus")]),t._v("ã€"),a("code",[t._v("node")]),t._v(" å’Œ "),a("code",[t._v("alertmanager")]),t._v("ï¼Œå¹¶å°†è¯¥æ–‡ä»¶æ‹·è´åˆ°"),a("code",[t._v("/data/prometheus/")]),t._v(" ç›®å½•ä¸‹ï¼›")]),t._v(" "),a("p",[t._v("ï¼ˆ4ï¼‰å¼€æ”¾ç«¯å£ï¼š"),a("code",[t._v("9090ï¼›")])]),t._v(" "),a("p",[t._v("ï¼ˆ5ï¼‰è®¾ç½®æœåŠ¡å¼€æœºè‡ªå¯ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("æ³¨æ„:")]),t._v(" "),a("p",[t._v("Dockerfileæ³¨é‡Šçš„ä¸‰è¡Œæ˜¯é…ç½®åœ°åŒºæ—¶é—´ï¼Œä¹Ÿå¯ä»¥åœ¨docker-composeä¸­é…ç½®ï¼Œæˆ‘æ˜¯åœ¨docker-composeé…ç½®")])]),t._v(" "),a("div",{staticClass:"language-dockerfile extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" centos:centos7.9.2009")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("MAINTAINER")]),t._v(" Chinaskill")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RUN")]),t._v(" mkdir /data")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" prometheus-2.29.1.linux-amd64.tar.gz /data/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RUN")]),t._v(" mv /data/prometheus-2.29.1.linux-amd64 /data/prometheus && "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("\\")]),t._v("\n    rm -rf  /data/prometheus/prometheus.yml")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COPY")]),t._v(" prometheus.yml  /data/prometheus/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WORKDIR")]),t._v(" /data/prometheus")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# ENV TZ "Asia/Shanghai"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# RUN echo $TZ > /etc/timezone")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXPOSE")]),t._v(" 9090")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENTRYPOINT")]),t._v(" ["),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/data/prometheus/prometheus"')]),t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CMD")]),t._v(" [ "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--config.file=/data/prometheus/prometheus.yml"')]),t._v("]")]),t._v("\n\n[root@master ~]# docker build -t monitor-prometheus:v1.0 -f Dockerfile-prometheus  .\n")])])]),a("p",[t._v("æŸ¥çœ‹prometheus.yml")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("monitor-alertmanager")]),t._v(" æ˜¯å®¹å™¨åç§°")]),t._v(" "),a("li",[a("code",[t._v("monitor-node")]),t._v(" æ˜¯å®¹å™¨åç§°")]),t._v(" "),a("li",[a("code",[t._v("monitor-alertmanager")]),t._v(" æ˜¯å®¹å™¨åç§°")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# my global config")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("global")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scrape_interval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 15s "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Set the scrape interval to every 15 seconds. Default is every 1 minute.")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("evaluation_interval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 15s "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Evaluate rules every 15 seconds. The default is every 1 minute.")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# scrape_timeout is set to the global default (10s).")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Alertmanager configuration")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("alerting")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("alertmanagers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("static_configs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targets")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" monitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("alertmanager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9093")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Load rules once and periodically evaluate them according to the global 'evaluation_interval'.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("rule_files")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# - "first_rules.yml"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# - "second_rules.yml"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# A scrape configuration containing exactly one endpoint to scrape:")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Here it's Prometheus itself.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scrape_configs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The job name is added as a label `job=<job_name>` to any timeseries scraped from this config.")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("job_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prometheus"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# metrics_path defaults to '/metrics'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# scheme defaults to 'http'.")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("static_configs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targets")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"localhost:9090"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("job_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("static_configs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targets")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"monitor-node:9100"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n   \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("job_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"alertmanager"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("static_configs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targets")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"monitor-alertmanager:9093"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("æ£€æµ‹å‘½ä»¤1ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /root/Monitorl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" build "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" monitor-prometheus:v1.0 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" Dockerfile-prometheus "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\nè¿”å›\nprometheus-2.13.0.linux-amd64.tar.gz "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9090")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" Successfully tagged monitor-prometheus:v1.0\n\næ£€æµ‹å‘½ä»¤2ï¼š\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--name")]),t._v(" monitor-exam-jiance monitor-prometheus:v1.0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" monitor-exam-jiance "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-aux")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" monitor-exam-jiance\nè¿”å›\nprometheus.yml\n")])])]),a("h3",{attrs:{id:"ğŸ“Œç¼–æ’éƒ¨ç½²ç›‘æ§ç³»ç»Ÿ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Œç¼–æ’éƒ¨ç½²ç›‘æ§ç³»ç»Ÿ"}},[t._v("#")]),t._v(" ğŸ“Œç¼–æ’éƒ¨ç½²ç›‘æ§ç³»ç»Ÿ")]),t._v(" "),a("p",[t._v("åœ¨masterèŠ‚ç‚¹ä¸Šç¼–å†™/root/Monitor/docker-compose.yamlæ–‡ä»¶éƒ¨ç½²ï¼Œå…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[t._v("ï¼ˆ1ï¼‰å®¹å™¨ 1 åç§°ï¼š"),a("code",[t._v("monitor-nodeï¼›")]),t._v("é•œåƒï¼š"),a("code",[t._v("monitor-exporter:v1.0ï¼›")]),t._v("ç«¯å£æ˜ å°„ï¼š"),a("code",[t._v("9100:9100")]),t._v("ï¼›")]),t._v(" "),a("p",[t._v("ï¼ˆ2ï¼‰å®¹å™¨ 2 åç§°ï¼š"),a("code",[t._v("monitor-alertmanagerï¼›")]),t._v("é•œåƒï¼š"),a("code",[t._v("monitor-alert:v1.0ï¼›")]),t._v("ç«¯å£æ˜ å°„ï¼š"),a("code",[t._v("9093:9093")]),t._v("ã€"),a("code",[t._v("9094:9094")]),t._v("ï¼›")]),t._v(" "),a("p",[t._v("ï¼ˆ3ï¼‰å®¹å™¨ 3 åç§°ï¼š"),a("code",[t._v("monitor-grafanaï¼›")]),t._v("é•œåƒï¼š"),a("code",[t._v("monitor-grafana:v1.0ï¼›")]),t._v("ç«¯å£æ˜ å°„ï¼š"),a("code",[t._v("3000")]),t._v(":"),a("code",[t._v("3000")]),t._v("ï¼›")]),t._v(" "),a("p",[t._v("ï¼ˆ4ï¼‰å®¹å™¨ 4 åç§°ï¼š"),a("code",[t._v("monitor-prometheusï¼›")]),t._v("é•œåƒï¼š"),a("code",[t._v("monitor-prometheus:v1.0ï¼›")]),t._v("ç«¯å£æ˜ å°„ï¼š"),a("code",[t._v("9090")]),t._v(":"),a("code",[t._v("9090")]),t._v("ï¼›")]),t._v(" "),a("p",[t._v("å®Œæˆåç¼–æ’éƒ¨ç½²ç›‘æ§ç³»ç»Ÿï¼Œå°†"),a("code",[t._v("Prometheus")]),t._v("è®¾ç½®ä¸º"),a("code",[t._v("Grafana")]),t._v("çš„æ•°æ®æºï¼Œå¹¶å‘½åä¸º"),a("code",[t._v("Prometheus")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master Monitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker images | grep monitor ")]),t._v("\nmonitor-grafana                                     v1.0             d924b97d967c   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("54")]),t._v(" minutes ago   376MB\nmonitor-alert                                       v1.0             1cae6c12be14   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("55")]),t._v(" minutes ago   318MB\nmonitor-exporter                                    v1.0             61356c46a125   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("55")]),t._v(" minutes ago   238MB\nmonitor-prometheus                                  v1.0             773023b3fc23   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("58")]),t._v(" minutes ago   590MB\n")])])]),a("p",[t._v("ç¼–å†™dockerâ€”composeï¼š")]),t._v(" "),a("ol",[a("li",[t._v("å…ˆéƒ¨ç½² "),a("code",[t._v("monitor-node")])]),t._v(" "),a("li",[t._v("å†éƒ¨ç½²  "),a("code",[t._v("monitor-node")])]),t._v(" "),a("li",[t._v("éƒ¨ç½²"),a("code",[t._v("Prometheus")]),t._v(" éœ€è¦ä¾èµ–  "),a("code",[t._v("monitor-node")]),t._v(" å’Œ  "),a("code",[t._v("monitor-node")])]),t._v(" "),a("li",[t._v("éƒ¨ç½²"),a("code",[t._v("Grafana")]),t._v(" éœ€è¦ä¾èµ– "),a("code",[t._v("Prometheus")])]),t._v(" "),a("li",[t._v("æ‰€æœ‰å®¹å™¨é…ç½®æ—¶é—´åœ°åŒºå’Œæ—¶é—´åŒæ­¥ï¼Œä¿è¯ä¸ä¼šå‡ºç°æ—¶é—´å·®")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3.7"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("monitor-node")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" monitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("exporter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("v1.0\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" monitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("node\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"9100:9100"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /etc/localtime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/etc/localtime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ro \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /etc/timezone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/etc/timezone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ro\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /proc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/host/proc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ro \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /sys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/host/sys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ro \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/rootfs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ro\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("monitor-alertmanager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" monitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("alert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("v1.0 \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" monitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("alertmanager\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"9093:9093"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"9094:9094"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /etc/localtime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/etc/localtime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ro \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /etc/timezone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/etc/timezone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ro\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("monitor-prometheus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" monitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("prometheus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("v1.0 \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" monitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("prometheus\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"9090:9090"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" monitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("alertmanager \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /etc/localtime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/etc/localtime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ro\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /etc/timezone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/etc/timezone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ro\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("monitor-grafana")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" monitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("grafana"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("v1.0 \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" monitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("grafana\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3000:3000"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /etc/localtime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/etc/localtime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ro \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /etc/timezone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/etc/timezone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ro\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" monitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("prometheus   \n")])])]),a("p",[t._v("æ‰§è¡Œdocker-composeæµ‹è¯•ï¼š")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@host-192-168-100-186 opt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker-compose up -d ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("+"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Running "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("/5\n â ¿ Network opt_default             Created                                                                                                              "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(".1s\n â ¿ Container monitor-alertmanager  Started                                                                                                              "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(".6s\n â ¿ Container monitor-node          Started                                                                                                              "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(".6s\n â ¿ Container monitor-prometheus    Started                                                                                                              "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".4s\n â ¿ Container monitor-grafana       Started                                                                                                              "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".3s\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@host-192-168-100-186 opt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker-compose ps ")]),t._v("\nNAME                   COMMAND                  SERVICE                STATUS              PORTS\nmonitor-alertmanager   "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/bin/alertmanager/aâ€¦"')]),t._v("   monitor-alertmanager   running             "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.0:9093-9094-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9093")]),t._v("-9094/tcp, :::9093-9094-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9093")]),t._v("-9094/tcp\nmonitor-grafana        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/usr/grafana-6.4.1/â€¦"')]),t._v("   monitor-grafana        running             "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.0:3000-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v("/tcp, :::3000-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v("/tcp\nmonitor-node           "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/bin/node_exporter"')]),t._v("     monitor-node           running             "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.0:9100-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9100")]),t._v("/tcp, :::9100-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9100")]),t._v("/tcp\nmonitor-prometheus     "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/usr/prometheus-2.2â€¦"')]),t._v("   monitor-prometheus     running             "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.0:9090-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9090")]),t._v("/tcp, :::9090-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9090")]),t._v("/tcp\n")])])]),a("p",[t._v("æ£€æµ‹å‘½ä»¤1ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker-compose")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" /root/Monitor/docker-compose.yaml "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" Up\nè¿”å›\nmonitor-alertmanager "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9093")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9093")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" monitor-grafana "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" monitor-node "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9100")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9100")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" monitor-prometheus "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9090")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9090")]),t._v("\n\næ£€æµ‹å‘½ä»¤2ï¼š\n$ curl-L http://"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hostname")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(":9090/targets\nè¿”å›\nalertmanager "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("/1 up"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("/1 up"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" prometheus "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("/1 up"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\næ£€æµ‹å‘½ä»¤3ï¼š\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-u")]),t._v(" admin:admin http://"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hostname")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(":3000/datasources\nè¿”å›\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9090")]),t._v("\n\næ£€æµ‹å‘½ä»¤4ï¼š\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" monitor-prometheus "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" ldata/prometheus/prometheus.yml\n\nè¿”å›\nnode-exporter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" alertmanager\n\næ£€æµ‹å‘½ä»¤5ï¼š\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-L")]),t._v(" http://"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hostname")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(":9093\nè¿”å›\nAlertmanager\n")])])]),a("h3",{attrs:{id:"ğŸ“Œé…ç½®grafana"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Œé…ç½®grafana"}},[t._v("#")]),t._v(" ğŸ“Œé…ç½®Grafana")]),t._v(" "),a("p",[t._v("æŸ¥çœ‹å½“å‰çš„"),a("code",[t._v("Prometheus")]),t._v("ç›‘æ§çš„"),a("code",[t._v("targets")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205182314162.png",alt:"image-20220518231449017"}})]),t._v(" "),a("p",[t._v("æŸ¥çœ‹å½“å‰çš„"),a("code",[t._v("alertmanager")]),t._v("çš„çŠ¶æ€")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205182316390.png",alt:"image-20220518231634803"}})]),t._v(" "),a("p",[t._v("æŸ¥çœ‹å½“å‰çš„"),a("code",[t._v("node_exporter")]),t._v("ç›‘æ§æŒ‡æ ‡")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205182317934.png",alt:"image-20220518231737038"}})]),t._v(" "),a("p",[t._v("ç™»å½•"),a("code",[t._v("Grafana")]),t._v("é…ç½®"),a("code",[t._v("prometheus")]),t._v("çš„æ•°æ®æº")]),t._v(" "),a("p",[t._v("è´¦å·ï¼š "),a("code",[t._v("admin")])]),t._v(" "),a("p",[t._v("å¯†ç ï¼š "),a("code",[t._v("admin")])]),t._v(" "),a("p",[t._v("å¯¼å…¥æˆ‘ä»¬ä¸‹è½½å¥½çš„ç¦»çº¿jsonæ–‡ä»¶")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205182322038.png",alt:"image-20220518232239506"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205182323118.png",alt:"image-20220518232358323"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205182324645.png",alt:"image-20220518232421989"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205182325992.png",alt:"image-20220518232515126"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205182325670.png",alt:"image-20220518232554564"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205182326389.png",alt:"image-20220518232640555"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205182327951.png",alt:"image-20220518232713905"}})])])}),[],!1,null,null,null);a.default=n.exports}}]);