(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{333:function(a,t,s){"use strict";s.r(t);var n=s(7),e=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"skywalking-elasticsearch实现全链路监控"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#skywalking-elasticsearch实现全链路监控"}},[a._v("#")]),a._v(" SkyWalking+elasticsearch实现全链路监控")]),a._v(" "),t("p",[a._v("随着微服务架构的流行，一些微服务架构下的问题也会越来越突出，比如一个请求会涉及多个服务，而服务本身可能也会依赖其他服务，整个请求路径就构成了一个网状的调用链，而在整个调用链中一旦某个节点发生异常，整个调用链的稳定性就会受到影响。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205080013398.png",alt:"使用SkyWalking+elasticsearch实现全链路监控_分布式追踪"}})]),a._v(" "),t("p",[a._v("面对以上情况， 我们就需要一些可以帮助理解系统行为、用于分析性能问题的工具，以便发生故障的时候，能够快速定位和解决问题。这时候分布式追踪系统就该闪亮登场了。")]),a._v(" "),t("h4",{attrs:{id:"分布式追踪系统skywalking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分布式追踪系统skywalking"}},[a._v("#")]),a._v(" 分布式追踪系统skywalking")]),a._v(" "),t("p",[t("strong",[a._v("1、什么是分布式追踪？")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205080013276.png",alt:"使用SkyWalking+elasticsearch实现全链路监控_分布式追踪_02"}})]),a._v(" "),t("p",[a._v("上图是常见的微服务的框架，4个实例，2个MySQL、1个Redis。实际上它有两次完全不同的请求进来：有一次的一个请求会访问 Redis，再去访问MySQL；另外一个可能走到另外的服务上，然后直接去MySQL。整个分布式追踪的目的是什么？是为了让我们最终在页面上、UI上、和数据上能够复现这个过程。我们要拿到整个完整的链路，包括精确的响应时间，访问的方法、访问的circle，访问的Redis的key等，这些是我们在做分布式追踪的时候需要展现的一个完整的信息。")]),a._v(" "),t("p",[t("strong",[a._v("2、skywalking简介")])]),a._v(" "),t("p",[a._v("SkyWalking 是针对分布式系统的 APM 系统，也被称为分布式追踪系统")]),a._v(" "),t("ul",[t("li",[a._v("全自动探针监控，不需要修改应用程序代码。")]),a._v(" "),t("li",[a._v("支持手动探针监控, 提供了支持 OpenTracing 标准的SDK。覆盖范围扩大到 OpenTracing-Java 支持的组件。")]),a._v(" "),t("li",[a._v("自动监控和手动监控可以同时使用，使用手动监控弥补自动监控不支持的组件，甚至私有化组件。")]),a._v(" "),t("li",[a._v("纯 Java 后端分析程序，提供 RESTful 服务，可为其他语言探针提供分析能力。")]),a._v(" "),t("li",[a._v("高性能纯流式分析\n"),t("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205080013534.png",alt:"使用SkyWalking+elasticsearch实现全链路监控_skywalking_03"}})])]),a._v(" "),t("p",[a._v("SkyWalking 的核心是数据分析和度量结果的存储平台，通过 HTTP 或 gRPC 方式向 SkyWalking Collecter 提交分析和度量数据，SkyWalking Collecter 对数据进行分析和聚合，存储到 Elasticsearch、H2、MySQL、TiDB 等其一即可，最后我们可以通过 SkyWalking UI 的可视化界面对最终的结果进行查看。Skywalking 支持从多个来源和多种格式收集数据：多种语言的 Skywalking Agent 、Zipkin v1/v2 、Istio 勘测、Envoy 度量等数据格式。")]),a._v(" "),t("h4",{attrs:{id:"部署前的准备工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部署前的准备工作"}},[a._v("#")]),a._v(" 部署前的准备工作")]),a._v(" "),t("h5",{attrs:{id:"_1-关闭selinux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-关闭selinux"}},[a._v("#")]),a._v(" 1.关闭selinux")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# sed -i "s/SELINUX=enforcing/SELINUX=disabled/g" /etc/selinux/config ')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# systemctl stop firewalld ")]),a._v("\n")])])]),t("h5",{attrs:{id:"_2-使用下载好的安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用下载好的安装包"}},[a._v("#")]),a._v(" 2.使用下载好的安装包")]),a._v(" "),t("blockquote",[t("p",[a._v("注：SkyWalking 7.0.X目前只支持elasticsearch 7.x版本，版本需要一致。")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall skywalking"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ll")]),a._v("\ntotal "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("624848")]),a._v("\n-rw-r--r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("142938066")]),a._v(" Feb "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" 02:34 apache-skywalking-apm-es7-8.0.0.tar.gz\n-rw-r--r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("311388520")]),a._v(" Feb "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" 01:37 elasticsearch-7.17.0-linux-x86_64.tar.gz\ndrwxr-xr-x "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" root root       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("285")]),a._v(" Feb "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),a._v(" 08:00 gpmall\n-rw-r--r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("185515842")]),a._v(" Jan "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("22")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2021")]),a._v(" jdk-8u144-linux-x64.tar.gz\n")])])]),t("h5",{attrs:{id:"_3-查看java环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-查看java环境"}},[a._v("#")]),a._v(" 3.查看java环境")]),a._v(" "),t("p",[a._v("当前我已经安装好java环境，提前部署一个java项目，然后停掉所有的jar包，在后面接入的时候再启动。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall gpmall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cd ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# java -version ")]),a._v("\nopenjdk version "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"1.8.0_262"')]),a._v("\nOpenJDK Runtime Environment "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("build "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.8")]),a._v(".0_262-b10"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nOpenJDK "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v("-Bit Server VM "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("build "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("25.262")]),a._v("-b10, mixed mode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("h5",{attrs:{id:"_4-部署elasticsearch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-部署elasticsearch"}},[a._v("#")]),a._v(" 4.部署elasticsearch")]),a._v(" "),t("p",[a._v("如果只在目录中操作可以不添加变量到/etc/profile下。")]),a._v(" "),t("p",[a._v("这里使用elasticsearch的软连接来操作，需要将安装包解压到/usr/local/下面，在该目录下进行操作。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall skywalking"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# tar zxvf elasticsearch-7.17.0-linux-x86_64.tar.gz  -C /usr/local/ ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall skywalking"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cd /usr/local/")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# mv elasticsearch-7.17.0/ elasticsearch ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vim /etc/profile")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ES_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/elasticsearch/\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$ES_HOME")]),a._v("/bin:"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# source /etc/profile")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# elasticsearch --version ")]),a._v("\nVersion: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("7.17")]),a._v(".0, Build: default/tar/bee86328705acaa9a6daede7140defd4d9ec56bd/2022-01-28T08:36:04.875279988Z, JVM: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("17.0")]),a._v(".1\n")])])]),t("p",[a._v("创建elasticsearch特权用户")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# useradd els -p 123456 ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# usermod -g root els ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# chown -R els:root /usr/local/elasticsearch/")]),a._v("\n")])])]),t("p",[a._v("添加系统文件打开数量 ，修改最大虚拟内存大小。")]),a._v(" "),t("blockquote",[t("p",[a._v("注意：退出重新登录当前窗口，生效limits.conf的配置文件。")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vim /etc/security/limits.conf  ")]),a._v("\n* soft nofile "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("65536")]),a._v("\n* hard nofile "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("131072")]),a._v("\n* soft nproc "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2048")]),a._v("\n* hard nproc "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4096")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# echo  'vm.max_map_count=655360' >> /etc/sysctl.conf  ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# sysctl  -p ")]),a._v("\nvm.max_map_count "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("655360")]),a._v("\n")])])]),t("p",[a._v("修改elasticsearch的"),t("code",[a._v("elasticsearch/config/elasticsearch.yml")]),a._v("配置文件，需要将以下的配置文件注释取消注释掉。")]),a._v(" "),t("p",[a._v("修改完配置文件需要切换到els用户去启动进程。使用"),t("code",[a._v("-d参数")]),a._v("开启守护进程。")]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("cluster.name")]),a._v("\t\t\t\t\t\t\t\t\t这是一个描述，后面的skywalking需要配置相同的名字")]),a._v(" "),t("p",[t("code",[a._v("node.name")]),a._v("\t\t\t\t\t  \t\t\t\t\t可以是当前主机的名称")]),a._v(" "),t("p",[t("code",[a._v("path.data")]),a._v("\t\t\t\t\t \t\t\t\t\t 这是当前的数据存放的目录")]),a._v(" "),t("p",[t("code",[a._v("path.logs")]),a._v("\t\t\t\t\t  \t\t\t\t\t这是当前的日志存放的目录，方便后续查看报错")]),a._v(" "),t("p",[t("code",[a._v("network.host")]),a._v("\t\t\t\t\t\t\t\t\t这里使用elasticsearch的IP地址")]),a._v(" "),t("p",[t("code",[a._v("http.port")]),a._v("\t\t\t\t\t \t\t\t\t\t 开启使用http的9200端口")]),a._v(" "),t("p",[t("code",[a._v("cluster.initial_master_nodes")]),a._v("    配置内部的master节点名称")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# cat elasticsearch/config/elasticsearch.yml  | grep -Ev "^$|^#"')]),a._v("\ncluster.name: my-application                  \nnode.name: gpmall \npath.data: /usr/local/elasticsearch/data \npath.logs: /usr/local/elasticsearch/logs \nnetwork.host: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".1.106\nhttp.port: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9200")]),a._v("\ncluster.initial_master_nodes: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"gpmall"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# su - els ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("els@gpmall ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" /etc/profile\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("els@gpmall ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("$ elasticsearch "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("els@gpmall skywalking"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ss -ntpl | grep 9200")]),a._v("\nLISTEN     "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("128")]),a._v("       ::ffff:192.168.1.106:9200                    :::*                   users:"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("((")]),a._v('"java"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("pid"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3412")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("fd"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("295")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("))")])]),a._v("\n")])])]),t("blockquote",[t("p",[t("strong",[a._v("这里有一个小细节：")])])]),a._v(" "),t("p",[a._v("elasticsearch是使用java包启动的， 如果出现如下的报错，显示内存不足，是因为"),t("code",[a._v("java当中已经启动了elasticsearch")]),a._v("，再次启动会显示内存报错，其实并不是内存报错，"),t("code",[a._v("是pid进程冲突")]),a._v("，不能同时存在两个一样的进程，所以只需要把之前的elasticsearch的jar进程杀掉就好了。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("els@gpmall ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("$ elasticsearch "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v("\nOpenJDK "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v("-Bit Server VM warning: INFO: os::commit_memory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("0x00007fbff5b8a000, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("97058816")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" failed"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("error")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Not enough space'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("errno"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("12")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# There is insufficient memory for the Java Runtime Environment to continue.")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Native memory allocation (mmap) failed to map 97058816 bytes for committing reserved memory.")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# An error report file with more information is saved as:")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# logs/hs_err_pid17760.log")]),a._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("els@gpmall ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("$ jps\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3412")]),a._v(" Elasticsearch\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3544")]),a._v(" Jps\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("els@gpmall ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("kill")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-9")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3412")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("els@gpmall ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("$ elasticsearch "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("els@gpmall skywalking"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ss -ntpl | grep 9200")]),a._v("\nLISTEN     "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("128")]),a._v("       ::ffff:192.168.1.106:9200                    :::*                   users:"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("((")]),a._v('"java"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("pid"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3523")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("fd"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("295")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("))")])]),a._v("\n")])])]),t("p",[a._v("通过http://192.168.1.106:9200查看")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205080013367.png",alt:"image-20220308202557993"}})]),a._v(" "),t("h5",{attrs:{id:"_5-部署skywalking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-部署skywalking"}},[a._v("#")]),a._v(" 5.部署SkyWalking")]),a._v(" "),t("p",[a._v("将编译好的skywalking压缩包解压到/usr/local/目录下工作。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall skywalking"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# tar zxvf apache-skywalking-apm-es7-8.0.0.tar.gz  -C /usr/local/  ")]),a._v("\n")])])]),t("p",[a._v("修改skywalking的"),t("code",[a._v("apache-skywalking-apm-bin-es7/config/application.yml")]),a._v("配置文件。")]),a._v(" "),t("ol",[t("li",[a._v("可以在vim工作模式下输入如下"),t("code",[a._v(":%s/localhost/192.168.1.106")]),a._v("，将所有的localhost修改成192.168.1.106的ip地址。")]),a._v(" "),t("li",[a._v("将elasticsearch的默认的"),t("code",[a._v("cluster.name的名称")]),a._v("填入"),t("code",[a._v("elasticsearch的nameSpace中")]),a._v("。")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall skywalking"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cd /usr/local/")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ls")]),a._v("\napache-skywalking-apm-bin-es7  bin  elasticsearch  etc  games  include  lib  lib64  libexec  sbin  share  src\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cd apache-skywalking-apm-bin-es7/")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall apache-skywalking-apm-bin-es7"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vim config/application.yml  ")]),a._v("\nstorage:\n  selector: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("elasticsearch7}")]),a._v("\t\t   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#修改成elasticsearch7")]),a._v("\n  elasticsearch:\n    nameSpace: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_NAMESPACE"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('"my-application"}')]),a._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#这里需要修改")]),a._v("\n    clusterNodes: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_CLUSTER_NODES"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("192.168.1.106"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("9200}")]),a._v("\n    protocol: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_HTTP_PROTOCOL"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('"http"}')]),a._v("\n    trustStorePath: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_SSL_JKS_PATH"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('""}')]),a._v("\n    trustStorePass: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_SSL_JKS_PASS"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('""}')]),a._v("\n    user: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_ES_USER"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('""}')]),a._v("\n    password: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_ES_PASSWORD"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('""}')]),a._v("\n    secretsManagementFile: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_ES_SECRETS_MANAGEMENT_FILE"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('""}')]),a._v(" \n    dayStep: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_DAY_STEP"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("1}")]),a._v(" \n    indexShardsNumber: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_INDEX_SHARDS_NUMBER"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("1}")]),a._v("\n    superDatasetIndexShardsFactor: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_SUPER_DATASET_INDEX_SHARDS_FACTOR"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("5}")]),a._v(" \n    indexReplicasNumber: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_INDEX_REPLICAS_NUMBER"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("0}")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Batch process setting, refer to https://www.elastic.co/guide/en/elasticsearch/client/java-api/5.5/java-docs-bulk-processor.html")]),a._v("\n    bulkActions: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_BULK_ACTIONS"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("1000}")]),a._v(" \n    flushInterval: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_FLUSH_INTERVAL"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("10}")]),a._v(" \n    concurrentRequests: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_CONCURRENT_REQUESTS"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("2}")]),a._v("\n    resultWindowMaxSize: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_QUERY_MAX_WINDOW_SIZE"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("10000}")]),a._v("\n    metadataQueryMaxSize: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_QUERY_MAX_SIZE"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("5000}")]),a._v("\n    segmentQueryMaxSize: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_QUERY_SEGMENT_SIZE"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("200}")]),a._v("\n    profileTaskQueryMaxSize: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_QUERY_PROFILE_TASK_SIZE"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("200}")]),a._v("\n    advanced: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_ADVANCED"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('""}')]),a._v("\n  elasticsearch7:\n    nameSpace: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_NAMESPACE"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('"my-application"}')]),a._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#这里需要修改")]),a._v("\n    clusterNodes: "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_STORAGE_ES_CLUSTER_NODES"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("192.168.1.106"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("9200}")]),a._v("\n")])])]),t("h5",{attrs:{id:"_6-java项目接入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-java项目接入"}},[a._v("#")]),a._v(" 6.Java项目接入")]),a._v(" "),t("p",[a._v("skywalking支持很多项目，比如Java、.net、github、sample等，这里使用java的项目。修改agent/config/agent.config文件内容，只需要修改以下两行。")]),a._v(" "),t("p",[a._v("这里的java项目名称使用默认，将collector的127.0.0.1换成"),t("code",[a._v("elasticsearch的ip地址")]),a._v("。")]),a._v(" "),t("p",[a._v("最后启动服务通过浏览器访问IP:8080。")]),a._v(" "),t("blockquote",[t("p",[a._v("注：agent.servicename是你的java项目的名称；collector.backendservice是项目连接skywalking的IP地址和端口号。"),t("code",[a._v("将agent打包并上传到java项目服务器上，在java程序启动时添加下面这个参数启动即可。")])])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall apache-skywalking-apm-bin-es7"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vim agent/config/agent.config ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("agent.service_name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_AGENT_NAME"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("Your_ApplicationName}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("collector.backend_service")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SW_AGENT_COLLECTOR_BACKEND_SERVICES"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("192.168.1.106"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("11800}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall apache-skywalking-apm-bin-es7"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ./bin/startup.sh ")]),a._v("\nSkyWalking OAP started successfully"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\nSkyWalking Web Application started successfully"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall apache-skywalking-apm-bin-es7"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ss -ntpl | grep 8080")]),a._v("\nLISTEN     "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("         :::8080                    :::*                   users:"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("((")]),a._v('"java"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("pid"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("14032")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("fd"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("19")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("))")])]),a._v("\n")])])]),t("p",[a._v("通过浏览器访问http://192.168.1.106:8080")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205080013026.png",alt:"image-20220308204049199"}})]),a._v(" "),t("h5",{attrs:{id:"_7-启动java项目接入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-启动java项目接入"}},[a._v("#")]),a._v(" 7.启动java项目接入")]),a._v(" "),t("p",[a._v("当前的java项目是应用商城的网站。")]),a._v(" "),t("p",[a._v("通过启动java包的同时使用"),t("code",[a._v("-javaagent:/usr/local/apache-skywalking-apm-bin-es7/agent/skywalking-agent.jar")]),a._v("  这个路径是skywalking下面的agent目录下的jar包。")]),a._v(" "),t("p",[a._v("这里并不使用后台启动jar包，因为需要边看日志边看是否正常接入skywalking。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall gpmall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# java -javaagent:/usr/local/apache-skywalking-apm-bin-es7/agent/skywalking-agent.jar -jar shopping-provider-0.0.1-SNAPSHOT.jar  & ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall gpmall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# java -javaagent:/usr/local/apache-skywalking-apm-bin-es7/agent/skywalking-agent.jar -jar user-provider-0.0.1-SNAPSHOT.jar & ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall gpmall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# java -javaagent:/usr/local/apache-skywalking-apm-bin-es7/agent/skywalking-agent.jar -jar gpmall-shopping-0.0.1-SNAPSHOT.jar & ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@gpmall gpmall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# java -javaagent:/usr/local/apache-skywalking-apm-bin-es7/agent/skywalking-agent.jar -jar gpmall-user-0.0.1-SNAPSHOT.jar & ")]),a._v("\n")])])]),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205080013616.png",alt:"image-20220308205636420"}})]),a._v(" "),t("p",[a._v("java的项目已经完全启动，再次查看skywalking的web可视化。")]),a._v(" "),t("p",[a._v("需要多次刷新几次就可以了，将时间调成1秒然后刷新。 通过对网站的疯狂测试之后以下内容可以查看skywalking的链路追踪情况。")]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("注意： 如果此时的java包启动完成之后，elasticsearch有退出的情况，请重新启动elasticsearch。此时我的elasticsearch服务已经断开连接，所以我重启了服务。")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("els@gpmall ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" /etc/profile\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("els@gpmall ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("$ jps \n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15102")]),a._v(" Jps\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("els@gpmall ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("$ elasticsearch "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("els@gpmall ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("$ ss "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ntpl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9200")]),a._v("\nLISTEN     "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("128")]),a._v("       ::ffff:192.168.1.106:9200                    :::*                   users:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("((")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"java"')]),a._v(",pid"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15298")]),a._v(",fd"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("294")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205080013051.png",alt:"image-20220308205028876"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205080013387.png",alt:"image-20220308205142471"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205080013246.png",alt:"image-20220308205155802"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/cn-zhangyh/images/raw/master/202203082052740.png",alt:"image-20220308205209281"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205080013388.png",alt:"image-20220308205238691"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202205080013520.png",alt:"image-20220308205528221"}})])])}),[],!1,null,null,null);t.default=e.exports}}]);