(window.webpackJsonp=window.webpackJsonp||[]).push([[182],{496:function(t,s,a){"use strict";a.r(s);var n=a(7),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"dns-服务与管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dns-服务与管理"}},[t._v("#")]),t._v(" DNS 服务与管理")]),t._v(" "),s("h3",{attrs:{id:"掌握要点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#掌握要点"}},[t._v("#")]),t._v(" 掌握要点")]),t._v(" "),s("blockquote",[s("p",[t._v("（1）了解 BIND 服务的安装配置。")]),t._v(" "),s("p",[t._v("（2）使用 bind-chroot 搭建 DNS 服务")]),t._v(" "),s("p",[t._v("（3）配置 DNS 服务的正反向解析。")])]),t._v(" "),s("h3",{attrs:{id:"基础准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础准备"}},[t._v("#")]),t._v(" 基础准备")]),t._v(" "),s("h5",{attrs:{id:"_1-规划节点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-规划节点"}},[t._v("#")]),t._v(" "),s("strong",[t._v("1.规划节点")])]),t._v(" "),s("p",[t._v("⚫部署"),s("code",[t._v("主从节点 DNS 服务+正反向解析")])]),t._v(" "),s("p",[t._v("⚫配置好本地的DNS地址")]),t._v(" "),s("p",[t._v("⚫安装bind工具，通过bind工具管理DNS服务器")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("IP")])]),t._v(" "),s("th",[t._v("主机名")]),t._v(" "),s("th",[t._v("节点")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("192.168.1.5")]),t._v(" "),s("td",[t._v("master")]),t._v(" "),s("td",[t._v("主 DNS 服务器")])]),t._v(" "),s("tr",[s("td",[t._v("192.168.1.11")]),t._v(" "),s("td",[t._v("slaver")]),t._v(" "),s("td",[t._v("从 DNS 服务器")])])])]),t._v(" "),s("h5",{attrs:{id:"_2-关闭防火墙"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-关闭防火墙"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.关闭防火墙")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# setenforce 0 ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl stop firewalld ")]),t._v("\n")])])]),s("h5",{attrs:{id:"_3-安装配置bind"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装配置bind"}},[t._v("#")]),t._v(" "),s("strong",[t._v("3.安装配置Bind")])]),t._v(" "),s("blockquote",[s("p",[t._v("以下操作在"),s("strong",[t._v("master")]),t._v("和"),s("strong",[t._v("slave")]),t._v("节点进行")])]),t._v(" "),s("p",[t._v("⚫安装配置 DNS 软件 BIND（两个节点），使用yum命令安装 "),s("code",[t._v("bind-chroot DNS")]),t._v(" 服务器。")]),t._v(" "),s("p",[t._v("⚫通过 "),s("code",[t._v("rpm -ql bind-chroot")]),t._v(" 查询所安装的文件。")]),t._v(" "),s("p",[t._v("⚫进入 bind-chroot 目录，拷贝 bind 相关文件，"),s("code",[t._v("准备 bind-chroot 环境")]),t._v("。")]),t._v(" "),s("p",[t._v("⚫ 创建 dynamic 目录，将 bind 文件设置为可写。")]),t._v(" "),s("p",[t._v("⚫将 DNS 服务 named.conf 文件"),s("code",[t._v("拷贝到 bind-chroot")]),t._v(" 目录中。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yum install bind-chroot bind-utils -y")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rpm -ql bind-chroot")]),t._v("\n/etc/named-chroot.files\n/usr/lib/systemd/system/named-chroot-setup.service\n/usr/lib/systemd/system/named-chroot.service\n/usr/libexec/setup-named-chroot.sh\n/var/named/chroot    \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd /var/named/chroot ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master chroot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cp -R /usr/share/doc/bind-9.9.4/sample/etc/* /var/named/chroot/etc/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master chroot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cp -R /usr/share/doc/bind-9.9.4/sample/var/* /var/named/chroot/var/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master chroot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd var/named/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# chmod -R 777 data/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir dynamic")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# chmod -R 777 dynamic")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master chroot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cp /etc/named.conf /var/named/chroot/etc/named.conf")]),t._v("\ncp: overwrite ‘/var/named/chroot/etc/named.conf’? y\n")])])]),s("h5",{attrs:{id:"_4-配置正反向解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置正反向解析"}},[t._v("#")]),t._v(" "),s("strong",[t._v("4.配置正反向解析")])]),t._v(" "),s("p",[t._v("⚫编辑配置文件 "),s("code",[t._v("named.conf")]),t._v("，需要将监听端口修改成"),s("code",[t._v("any")]),t._v("，和allow-query也配置成"),s("code",[t._v("any")]),t._v("，然后配置域名是"),s("code",[t._v("test.com")]),t._v("的正向解析以及"),s("code",[t._v("1.168.192")]),t._v("的反向解析。")]),t._v(" "),s("p",[t._v("⚫设置 named.conf 文件的用户"),s("code",[t._v("权限为 named")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# chown named /var/named/chroot/etc/named.conf")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master chroot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#vi /var/named/chroot/etc/named.conf")]),t._v("\noptions "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        listen-on port "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" any"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这里把127.0.0.1修改成any")]),t._v("\n        listen-on-v6 port "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ::1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        directory       "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        dump-file       "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/data/cache_dump.db"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        statistics-file "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/data/named_stats.txt"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        memstatistics-file "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/data/named_mem_stats.txt"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        recursing-file  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/data/named.recursing"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        secroots-file   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/data/named.secroots"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        allow-query     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" any"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这里把localhost修改成any")]),t._v("\n·\n·\n·\nzone "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test.com"')]),t._v(" IN "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#正向解析")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" master"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test.com.zon"')]),t._v("\n        allow-update "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nzone "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.168.192.in-addr.arpa"')]),t._v(" IN "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\t\t\t  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#反向解析")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" master"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test.com.arpa"')]),t._v("\n        allow-update "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("5.配置转发域")])]),t._v(" "),s("p",[t._v("⚫拷贝模板文件 "),s("code",[t._v("named.localhost")]),t._v(" 到 test.com.zon。")]),t._v(" "),s("p",[t._v("⚫编辑 "),s("code",[t._v("test.com.zon")]),t._v(" 文件为正向解析的转发域，赋予 test.com.zon 所有权限。")]),t._v(" "),s("p",[t._v("⚫编辑 "),s("code",[t._v("test.com.arpa")]),t._v(" 文件为反向解析的转发域赋予 test.com.arpa 所有权限。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cp /var/named/named.localhost /var/named/chroot/var/named/test.com.zon")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat  test.com.zon   \t\t\t")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TTL")]),t._v(" 1D\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ORIGIN")]),t._v(" test.com. \n@       IN SOA  test.com. root.test.com. "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                                        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" serial\n                                        1D      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" refresh      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("---这部分是正向解析转发域---"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                                        1H      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" retry\n                                        1W      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" expire\n                                        3H "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" minimum\n        IN NS   ns1.test.com. \nns1     IN A    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.5 \nwww     IN A    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.5 \nwww2    IN A    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.5 \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ftp")]),t._v("     IN A    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.5 \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat test.com.arpa ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TTL")]),t._v(" 1D\n@       IN SOA  test.com. root.test.com. "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                                        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" serial\n                                        1D      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" refresh\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("---这部分是反向解析转发域---"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                                        1H      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" retry\n                                        1W      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" expire\n                                        3H "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" minimum\n        IN NS   ns1.test.com. \n        IN A    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.5 \n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("       IN PTR  www.test.com.\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# chmod 777 test.com.zon ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# chmod 777 test.com.arpa ")]),t._v("\n")])])]),s("h5",{attrs:{id:"_5-检查配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-检查配置"}},[t._v("#")]),t._v(" "),s("strong",[t._v("5.检查配置")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# named-checkconf /var/named/chroot/etc/named.conf ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# named-checkzone test.com test.com.zon")]),t._v("\nzone test.com/IN: loaded serial "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nOK\n")])])]),s("h5",{attrs:{id:"_6-重启服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-重启服务"}},[t._v("#")]),t._v(" "),s("strong",[t._v("6.重启服务")])]),t._v(" "),s("p",[t._v("⚫需要关闭 "),s("code",[t._v("named")]),t._v(" 服务，取消开机启动。")]),t._v(" "),s("p",[t._v("⚫设置 "),s("code",[t._v("bind-chroot")]),t._v(" 服务开机启动，并重启。")]),t._v(" "),s("p",[t._v("⚫配置主机 "),s("code",[t._v("DNS")]),t._v(" 服务器。")]),t._v(" "),s("p",[t._v("⚫使用 "),s("code",[t._v("bind")]),t._v(" 基本命令重载主配置文件和区域解析库文件")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl stop named")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl disable named")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl enable named-chroot ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ln")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/usr/lib/systemd/system/named-chroot.service'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/etc/systemd/system/multi-user.target.wants/named-chroot.service'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl restart named-chroot")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vim /etc/resolv.conf")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" Created by cloud-init on instance boot automatically, "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" not edit.\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" generated by /usr/sbin/dhclient-script\nsearch openstacklocal\nnameserver  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.5   \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rndc reload")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rndc reload test.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rndc notify test.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rndc reconfig")]),t._v("\n")])])]),s("p",[t._v("测试 DNS 解析是否正常。"),s("strong",[t._v("可以正常解析。")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# nslookup ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" www.test.com\nServer:         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.5\nAddress:        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.5"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#53")]),t._v("\n\nName:   www.test.com\nAddress: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.5\n")])])]),s("h5",{attrs:{id:"_7-配置主从-dns"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-配置主从-dns"}},[t._v("#")]),t._v(" "),s("strong",[t._v("7.配置主从 DNS")])]),t._v(" "),s("p",[t._v("⚫首先，在 "),s("code",[t._v("Master")]),t._v(" 上操作，修改 Master 的 named.conf 配置文件。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master chroot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat  /var/named/chroot/etc/named.conf ")]),t._v("\nzone "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test.com"')]),t._v(" IN "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" master"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test.com.zon"')]),t._v("\n        allow-update "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        allow-transfer "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.11"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("---添加这三行指定slave节点---"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        notify "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        also-notify "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.11"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nzone "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.168.192.in-addr.arpa"')]),t._v(" IN "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" master"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test.com.arpa"')]),t._v("\n        allow-update "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        allow-transfer "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.11"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        notify "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        also-notify "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.11"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("⚫然后， 在 "),s("code",[t._v("slave")]),t._v(" 上操作，修改 slave 服务器上的 named.conf 文件。")]),t._v(" "),s("p",[t._v("⚫设置 "),s("code",[t._v("slaves")]),t._v(" 目录权限和目录的所有者为 named 用户。")]),t._v(" "),s("p",[t._v("⚫检查语法，并在 "),s("code",[t._v("master 和 slave")]),t._v(" 重启服务。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@slave chroot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat /var/named/chroot/etc/named.conf  ")]),t._v("\nzone "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test.com"')]),t._v(" IN "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" slave"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("---指定master节点---"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"slaves/test.com.zon"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        masters "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nzone "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.168.192.in-addr.arpa"')]),t._v(" IN "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" slave"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"slaves/test.com.arpa"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        masters "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@slave ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# chmod -R 777 /var/named/chroot/var/named/slaves/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@slave ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# chown -R named:named /var/named/chroot/var/named/slaves/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@slave ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# named-checkconf /var/named/chroot/etc/named.conf")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@slave ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl restart named-chroot")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@slave chroot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ll /var/named/chroot/var/named/slaves/")]),t._v("\ntotal "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-rwxrwxrwx")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" named named  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),t._v(" Feb "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(":29 my.ddns.internal.zone.db\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-rwxrwxrwx")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" named named  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),t._v(" Feb "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(":29 my.slave.internal.zone.db\n-rw-r--r-- "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" named named "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("287")]),t._v(" Feb "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(":37 test.com.arpa\n-rw-r--r-- "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" named named "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("308")]),t._v(" Feb "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(":37 test.com.zon\n")])])]),s("h5",{attrs:{id:"_8-主从测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-主从测试"}},[t._v("#")]),t._v(" "),s("strong",[t._v("8.主从测试")])]),t._v(" "),s("p",[t._v("在 master 主机用从服务器解析，（@后面指定 DNS 服务器的地址，就可以不用改本机 的 DNS 了），解析到 www2 域名，表明配置成功")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@master named"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# dig www2.test.com @192.168.1.11")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" DiG "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9.11")]),t._v(".4-P2-RedHat-9.11.4-26.P2.el7_9.8 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" www2.test.com @192.168.1.11\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" global options: +cmd\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" Got answer:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v("HEADER"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<-")]),t._v(" opcode: QUERY, status: NOERROR, id: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22457")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" flags: qr aa rd ra"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" QUERY: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", ANSWER: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", AUTHORITY: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", ADDITIONAL: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" OPT PSEUDOSECTION:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" EDNS: version: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(", flags:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" udp: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" QUESTION SECTION:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("www2.test.com.                 IN      A\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" ANSWER SECTION:\nwww2.test.com.          "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("86400")]),t._v("   IN      A       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.5\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" AUTHORITY SECTION:\ntest.com.               "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("86400")]),t._v("   IN      NS      ns1.test.com.\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" ADDITIONAL SECTION:\nns1.test.com.           "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("86400")]),t._v("   IN      A       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.5\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" Query time: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" msec\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" SERVER: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.11"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#53(192.168.1.11)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" WHEN: Thu Feb "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":18:08 UTC "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" MSG SIZE  rcvd: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("92")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);