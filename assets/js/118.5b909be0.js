(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{432:function(t,a,s){"use strict";s.r(a);var n=s(7),r=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"nginx反向代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx反向代理"}},[t._v("#")]),t._v(" Nginx反向代理")]),t._v(" "),a("h2",{attrs:{id:"实现效果实例1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现效果实例1"}},[t._v("#")]),t._v(" 实现效果实例1")]),t._v(" "),a("p",[t._v("1、打开浏览器，在浏览器地址栏中输入地址www.123.com，跳转到linux的tomcat主页面。")]),t._v(" "),a("h3",{attrs:{id:"准备工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[t._v("#")]),t._v(" 准备工作")]),t._v(" "),a("p",[t._v("（1）安装Nginx在linux服务器")]),t._v(" "),a("p",[t._v("（2）安装Tomcat，使用默认端口8080")]),t._v(" "),a("h3",{attrs:{id:"_1、安装tomcat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装tomcat"}},[t._v("#")]),t._v(" 1、安装Tomcat")]),t._v(" "),a("p",[t._v("安装Java-1.8.0-jdk")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yum install -y java")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# java -version")]),t._v("\nopenjdk version "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.8.0_322"')]),t._v("\nOpenJDK Runtime Environment "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.8")]),t._v(".0_322-b06"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nOpenJDK "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),t._v("-Bit Server VM "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25.322")]),t._v("-b06, mixed mode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("安装tomcat")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# tar zxvf apache-tomcat-8.5.75.tar.gz ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd apache-tomcat-8.5.75/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx apache-tomcat-8.5.75"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd bin/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ./startup.sh")]),t._v("\nUsing CATALINA_BASE:   /root/apache-tomcat-8.5.75\nUsing CATALINA_HOME:   /root/apache-tomcat-8.5.75\nUsing CATALINA_TMPDIR: /root/apache-tomcat-8.5.75/temp\nUsing JRE_HOME:        /usr\nUsing CLASSPATH:       /root/apache-tomcat-8.5.75/bin/bootstrap.jar:/root/apache-tomcat-8.5.75/bin/tomcat-juli.jar\nUsing CATALINA_OPTS:\nTomcat started.\n")])])]),a("h3",{attrs:{id:"_2、关闭防火墙"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、关闭防火墙"}},[t._v("#")]),t._v(" 2、关闭防火墙")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# firewall-cmd --list-alnot running")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# firewall-cmd --add-service=http --permanent")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# firewall-cmd --add-port=80/tcp --permanent")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# firewall-cmd --add-port=8080/tcp --permanent")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# firewall-cmd --reload")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3、修改nginx配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、修改nginx配置文件"}},[t._v("#")]),t._v(" 3、修改Nginx配置文件")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[t._v("[root@nginx ~]# "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("vim")]),t._v("  /usr/local/nginx/conf/nginx.conf\n\nserver")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server_name")]),t._v("  192.168.0.135")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# localhost配置IP地址")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#charset koi8-r;")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access_log  logs/host.access.log  main;")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" /")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("root")]),t._v("   html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_pass")]),t._v(" http://127.0.0.1:8080")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 添加反向代理地址")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v("  index.html index.htm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n[root@nginx ~]# /usr/local/nginx/sbin/nginx -s reload\n")])])]),a("p",[t._v("在本机配置hosts映射，然后浏览器访问")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.bmp.ovh/imgs/2022/02/4fe2744d77f6f2c2.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"实现效果实例2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现效果实例2"}},[t._v("#")]),t._v(" 实现效果实例2")]),t._v(" "),a("p",[t._v("使用nginx反向代理，根据访问的路径跳转到不同的端口服务中，nginx监听端口为9001")]),t._v(" "),a("p",[t._v("访问http://127.0.0.1:9001/edu/ 直接跳转到127.0.0.1:8080")]),t._v(" "),a("p",[t._v("访问http://127.0.0.1:9001/vod/ 直接跳转到127.0.0.1:8082")]),t._v(" "),a("h3",{attrs:{id:"准备工作-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备工作-2"}},[t._v("#")]),t._v(" 准备工作")]),t._v(" "),a("p",[t._v("准备两台tomcat服务器，一台8080，一台8081")]),t._v(" "),a("p",[t._v("在两台tomcat里面webapps目录中，创建名称是edu的文件夹，在edu文件夹中创建页面a.html,用于测试")]),t._v(" "),a("h3",{attrs:{id:"_1、准备两个tomcat服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、准备两个tomcat服务器"}},[t._v("#")]),t._v(" 1、准备两个tomcat服务器")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd /usr/src/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir tomcat8080")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir tomcat8081")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cp /root/apache-tomcat-8.5.75.tar.gz tomcat8080/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cp /root/apache-tomcat-8.5.75.tar.gz tomcat8081/")]),t._v("\n")])])]),a("h3",{attrs:{id:"_2、启动服务、修改端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、启动服务、修改端口"}},[t._v("#")]),t._v(" 2、启动服务、修改端口")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ./tomcat8080/apache-tomcat-8.5.75/bin/startup.sh")]),t._v("\nUsing CATALINA_BASE:   /usr/src/tomcat8080/apache-tomcat-8.5.75\nUsing CATALINA_HOME:   /usr/src/tomcat8080/apache-tomcat-8.5.75\nUsing CATALINA_TMPDIR: /usr/src/tomcat8080/apache-tomcat-8.5.75/temp\nUsing JRE_HOME:        /usr\nUsing CLASSPATH:       /usr/src/tomcat8080/apache-tomcat-8.5.75/bin/bootstrap.jar:/usr/src/tomcat8080/apache-tomcat-8.5.75/bin/tomcat-juli.jar\nUsing CATALINA_OPTS:\nTomcat started.\n\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd tomcat8081/apache-tomcat-8.5.75/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx apache-tomcat-8.5.75"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd conf/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vim server.xml")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Server "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8015"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("shutdown")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SHUTDOWN"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#8005修改成8015")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Listener "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"org.apache.catalina.startup.VersionLoggerListener"')]),t._v(" /"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  \n·\n·\n·\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Connector "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8081"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("protocol")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HTTP/1.1"')]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#8080修改成8081 ")]),t._v("\n               "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("connectionTimeout")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20000"')]),t._v("\n               "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("redirectPort")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8443"')]),t._v(" /"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n·\n·\n·\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("-- Define an AJP "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.3")]),t._v(" Connector on port "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8009")]),t._v(" --"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("--\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Connector "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("protocol")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AJP/1.3"')]),t._v("\n               "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("address")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"::1"')]),t._v("\n               "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8019"')]),t._v("\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#8009修改成8019")]),t._v("\n               "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("redirectPort")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8443"')]),t._v(" /"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    --"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd ..")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx apache-tomcat-8.5.75"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd bin/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ./startup.sh")]),t._v("\nUsing CATALINA_BASE:   /usr/src/tomcat8081/apache-tomcat-8.5.75\nUsing CATALINA_HOME:   /usr/src/tomcat8081/apache-tomcat-8.5.75\nUsing CATALINA_TMPDIR: /usr/src/tomcat8081/apache-tomcat-8.5.75/temp\nUsing JRE_HOME:        /usr\nUsing CLASSPATH:       /usr/src/tomcat8081/apache-tomcat-8.5.75/bin/bootstrap.jar:/usr/src/tomcat8081/apache-tomcat-8.5.75/bin/tomcat-juli.jar\nUsing CATALINA_OPTS:\nTomcat started.\n")])])]),a("h3",{attrs:{id:"_3、创建文件夹、测试页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、创建文件夹、测试页面"}},[t._v("#")]),t._v(" 3、创建文件夹、测试页面")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd tomcat8080/apache-tomcat-8.5.75/webapps/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx webapps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir edu")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx webapps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# echo "8080 tomcat" > edu/a.html')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd tomcat8081/apache-tomcat-8.5.75/webapps/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx webapps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir vod")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@nginx webapps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# echo "8081 tomcat" > vod/a.html')]),t._v("\n")])])]),a("h3",{attrs:{id:"_4、配置nginx配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、配置nginx配置文件"}},[t._v("#")]),t._v(" 4、配置Nginx配置文件")]),t._v(" "),a("p",[t._v("添加如下的nginx配置")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[t._v("[root@nginx ~]# "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("vim")]),t._v(" /usr/local/nginx/conf/nginx.conf\nserver")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9001")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server_name")]),t._v("  192.168.0.135")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" ~ /edu/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_pass")]),t._v(" http://127.0.0.1:8080")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" ~ /vod/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_pass")]),t._v(" http://127.0.0.1:8081")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n[root@nginx ~]# /usr/local/nginx/sbin/nginx  -s reload\n")])])]),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://i.bmp.ovh/imgs/2022/02/62839fea434c5da0.png"}}),t._v(" "),a("img",{attrs:{src:"https://i.bmp.ovh/imgs/2022/02/e30e069ae61cad7f.png"}})])}),[],!1,null,null,null);a.default=r.exports}}]);