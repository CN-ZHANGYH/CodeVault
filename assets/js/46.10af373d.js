(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{359:function(t,a,s){"use strict";s.r(a);var n=s(7),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"itop-管理软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#itop-管理软件"}},[t._v("#")]),t._v(" iTOP 管理软件")]),t._v(" "),a("h4",{attrs:{id:"掌握要点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#掌握要点"}},[t._v("#")]),t._v(" 掌握要点")]),t._v(" "),a("blockquote",[a("p",[t._v("（1）了解什么是 iTOP 系统。")]),t._v(" "),a("p",[t._v("（2）了解 iTOP 系统的功能与角色。")]),t._v(" "),a("p",[t._v("（3）了解 iTOP 的功能操作。")]),t._v(" "),a("p",[t._v("（4）了解 iTOP 系统的配置。")])]),t._v(" "),a("h4",{attrs:{id:"规划节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#规划节点"}},[t._v("#")]),t._v(" 规划节点")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[t._v("IP")]),t._v(" 地址")]),t._v(" "),a("th",[t._v("主机名")]),t._v(" "),a("th",[t._v("内存")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("192.168.200.16")]),t._v(" "),a("td",[t._v("iTOP")]),t._v(" "),a("td",[t._v("4  GB")])])])]),t._v(" "),a("h4",{attrs:{id:"部署itop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署itop"}},[t._v("#")]),t._v(" 部署iTop")]),t._v(" "),a("h5",{attrs:{id:"_1-安装-itop-环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-itop-环境"}},[t._v("#")]),t._v(" "),a("strong",[t._v("1.安装 iTOP 环境")])]),t._v(" "),a("p",[t._v("⚫设置 Yum 源文件")]),t._v(" "),a("p",[t._v("⚫解压所提供的 itop.tar.gz 压缩包，将/etc/yum.repos.d/目录中 repo 文件删除。")]),t._v(" "),a("p",[t._v("⚫在/etc/yum.repos.d/目录下创建一个名为 local.repo 的文件，添加内容。")]),t._v(" "),a("p",[t._v("⚫安装软件包输入以下命令安装所需软件包。")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rm -rf /etc/yum.repos.d/* ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# tar -zxvf itop.tar.gz -C /opt/ ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat > /etc/yum.repos.d/local.repo <<-EOF ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("iTOP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("iTOP \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("baseurl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("file:///opt/itop/ \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" \nEOF \n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yum install httpd php mariadb-server graphviz unzip php-gd php-mysqlnd php-imap php-soap php-ldap php-mbstring php-mcrypt php-pecl-zendopcache -y ")]),t._v("\n")])])]),a("h5",{attrs:{id:"_2-基础配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-基础配置"}},[t._v("#")]),t._v(" "),a("strong",[t._v("2.基础配置")])]),t._v(" "),a("p",[t._v("⚫需要关闭防火墙以及selinux。")]),t._v(" "),a("p",[t._v("⚫创建 PHP 会话目录，配置目录权限。")]),t._v(" "),a("p",[t._v("⚫启动 httpd、MariaDB 服务")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl stop firewalld ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl disable firewalld ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# setenforce 0 ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir -p /var/lib/php/session ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# chown apache:apache -R /var/lib/php/session/ ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl start httpd ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl start mariadb ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl enable httpd ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl enable mariadb ")]),t._v("\n")])])]),a("h5",{attrs:{id:"_3-配置数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置数据库"}},[t._v("#")]),t._v(" "),a("strong",[t._v("3.配置数据库")])]),t._v(" "),a("p",[t._v("⚫创建数据库输入以下命令，在数据库中创建 itop 数据库，并赋予 itop 用户访问数据库的权限，密码设置为 itop。")]),t._v(" "),a("p",[t._v("⚫修改/etc/my.cnf 配置文件，添加以下代码")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# mysql -uroot -e "create database itop DEFAULT CHARACTER SET utf8;" ')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mysql -uroot -e \"create user itop@localhost identified by 'itop';\" ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mysql -uroot -e \"grant all privileges on *.* to itop@'localhost' identified by 'itop';\" ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vim /etc/my.cnf ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n···\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("max_allowed_packet")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1048576")]),t._v(" \n")])])]),a("h5",{attrs:{id:"_4-配置httpd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置httpd"}},[t._v("#")]),t._v(" "),a("strong",[t._v("4.配置httpd")])]),t._v(" "),a("p",[t._v("⚫解压 itop 目录根据以下命令解压 itop 目录，将目录解压至/var/www/html 目录下，并重启 httpd 服务。")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# unzip /opt/iTop-2.2.1-2658.zip -d /var/www/html/ ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mv /var/www/html/web /var/www/html/itop ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir -p /var/www/html/itop/{conf,data,log,env-production} ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# chown -R apache:apache /var/www/html/itop/{conf,data,log,env-production} ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@iTOP ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl restart httpd ")]),t._v("\n")])])]),a("h5",{attrs:{id:"_5-web-安装过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-web-安装过程"}},[t._v("#")]),t._v(" "),a("strong",[t._v("5.Web 安装过程")])]),t._v(" "),a("p",[t._v("通过浏览器打开 http://192.168.200.16/itop/setup，即可访问 iTOP 安装页面。单击“Show details”按钮检查环境是否正常，确认后单击“Continue”按钮进行安装。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111159027.png",alt:"image-20220217222143148"}})]),t._v(" "),a("p",[t._v("选择全新安装（Install a new iTOP）还是升级安装（Upgrade an exisiting iTOP instance），此处选择全新安装，然后单击“Next”按钮。")]),t._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111159245.png",alt:"image-20220217222216701"}}),t._v(" "),a("p",[t._v("勾选“I accept the term of the licenses of the 8 components mentioned above” 复选框，然后单击“Next”按钮。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111159099.png",alt:"image-20220217222249134"}})]),t._v(" "),a("p",[t._v("在跳转页面，输入连接数据库的地址、用户名、密码等信息，即可在下面选择可以使用的数据库名称，选择使用已存在的 itop 数据库后，单击“Next”按钮，如图。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111159067.png",alt:"image-20220217222314496"}})]),t._v(" "),a("p",[t._v("设置管理员密码，选择语言为简体中文，然后单击“Next”按钮。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111159820.png",alt:"image-20220217222339524"}})]),t._v(" "),a("p",[t._v("设置 URL 和安装模式，选择样本数据，然后单击“Next”按钮。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111159794.png",alt:"image-20220217222409678"}})]),t._v(" "),a("p",[t._v("配置允许在 iTOP 内部管理的元素类型，单击“Next”按钮，如图所示。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111159388.png",alt:"image-20220217222434808"}})]),t._v(" "),a("p",[t._v("选择最能描述 IT 环境中的服务和 IT 基础设施之间关系的选项，然后单击“Next”按钮，如图。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111159900.png",alt:"image-20220217222502455"}})]),t._v(" "),a("p",[t._v("选择要用于响应用户请求和事件的票证类型，然后单击“Next”按钮，如图。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111200095.png",alt:"image-20220217222522174"}})]),t._v(" "),a("p",[t._v("选择对 IT 基础结构进行更改管理的票证类型，然后单击“Next”按钮，如图。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111159238.png",alt:"image-20220217222550524"}})]),t._v(" "),a("p",[t._v("选择在 iTOP 中需要实现的其他 ITIL 流程，然后单击“Next”按钮，如图。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111159874.png",alt:"image-20220217222608326"}})]),t._v(" "),a("p",[t._v("最后确认信息，单击“Install”按钮进行安装。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111159392.png",alt:"image-20220217222622455"}})]),t._v(" "),a("p",[t._v("开始安装后，等待几分钟后即可安装完毕然后，单击“Next”按钮，如图。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111159986.png",alt:"image-20220217222638444"}})]),t._v(" "),a("p",[t._v("安装完毕后，单击“Enter iTOP”按钮（如图 4-12-14），即可进入 iTOP 首页界面。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111159477.png",alt:"image-20220217222701547"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/202204111159071.png",alt:"image-20220217222709711"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/cn-zhangyh/images/raw/master/202202172227197.png",alt:"image-20220217222715763"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);