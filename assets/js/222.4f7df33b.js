(window.webpackJsonp=window.webpackJsonp||[]).push([[222],{535:function(a,t,s){"use strict";s.r(t);var e=s(7),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"fisco-bcos-pro版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fisco-bcos-pro版本"}},[a._v("#")]),a._v(" FISCO BCOS Pro版本")]),a._v(" "),t("h2",{attrs:{id:"版本说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#版本说明"}},[a._v("#")]),a._v(" 版本说明")]),a._v(" "),t("p",[a._v("FISCO BCOS 3.0支持Pro版本微服务区块链架构，"),t("code",[a._v("Pro版本FISCO BCOS包含RPC服务、Gateway服务和节点服务，每个服务均可独立部署和扩容")]),a._v("，本章通过单机搭建Pro版本2节点FISCO BCOS联盟链，帮助用户掌握Pro版本FISCO BCOS区块链的部署流程。请参考"),t("a",{attrs:{href:"https://fisco-bcos-doc.readthedocs.io/zh_CN/latest/docs/quick_start/hardware_requirements.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("这里"),t("OutboundLink")],1),a._v("使用支持的"),t("strong",[a._v("硬件和平台")]),a._v("进行操作。")]),a._v(" "),t("p",[a._v("注意：")]),a._v(" "),t("ul",[t("li",[a._v("Pro版本FISCO BCOS使用 "),t("code",[a._v("BcosBuilder/pro")]),a._v(" 工具进行建链和扩容等相关操作，该工具的介绍请参考 "),t("a",{attrs:{href:"https://fisco-bcos-doc.readthedocs.io/zh_CN/latest/docs/tutorial/pro/pro_builder.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("BcosBuilder"),t("OutboundLink")],1)]),a._v(" "),t("li",[a._v("FISCO BCOS 3.x基于tars进行微服务构建和管理，搭建Pro版本FISCO BCOS之前，需先安装tars服务，本章介绍了docker版本tars服务的搭建流程，若需要了解更多tars部署、构建相关的信息，请参考 "),t("a",{attrs:{href:"https://doc.tarsyun.com/#/markdown/TarsCloud/TarsDocs/installation/README.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("这里"),t("OutboundLink")],1)]),a._v(" "),t("li",[a._v("本章基于Docker搭建tars服务，请确保拥有 "),t("code",[a._v("root")]),a._v(" 权限")])]),a._v(" "),t("h2",{attrs:{id:"_1-bcosbuilder基本使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-bcosbuilder基本使用"}},[a._v("#")]),a._v(" 1. BcosBuilder基本使用")]),a._v(" "),t("p",[a._v("这里BcosBuilder就不过详细介绍，官网： "),t("a",{attrs:{href:"https://fisco-bcos-doc.readthedocs.io/zh_CN/latest/docs/tutorial/pro/pro_builder.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("BcosBuilder"),t("OutboundLink")],1)]),a._v(" "),t("h3",{attrs:{id:"_1-1-配置介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-配置介绍"}},[a._v("#")]),a._v(" 1.1 配置介绍")]),a._v(" "),t("p",[t("code",[a._v("BcosBuilder")]),a._v("在"),t("code",[a._v("pro/conf")]),a._v("目录下提供了一些配置模板，用于帮助用户快速完成Pro版本区块链的部署、扩容。本章从tars服务配置项、区块链部署配置项、区块链扩容配置项三个角度详细介绍"),t("code",[a._v("BcosBuilder")]),a._v("的配置项。")]),a._v(" "),t("h3",{attrs:{id:"_1-2-bcosbuilder部署配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-bcosbuilder部署配置"}},[a._v("#")]),a._v(" 1.2 BcosBuilder部署配置")]),a._v(" "),t("p",[t("strong",[a._v("🍂Tars的服务配置项")])]),a._v(" "),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[a._v("[tars]\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 访问tars网页控制台的url ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("tars_url")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"http://127.0.0.1:3000"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 访问tars服务的token，可通过tars网页控制台的【admin】->【用户中心】->【token管理】进行token申请和查询。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("tars_token")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('""')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 放置Pro版本二进制包的路径 如果配置了就会从指定目录进行服务部署")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("tars_pkg_dir")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('""')]),a._v("\n")])])]),t("p",[t("strong",[a._v("🍂区块链服务配置项")])]),a._v(" "),t("p",[a._v("区块链服务部署相关的配置项主要包括链配置项、RPC/Gateway服务配置项以及区块链节点服务配置项，其配置模板位于"),t("code",[a._v("BcosBuilder/pro")]),a._v("的"),t("code",[a._v("conf/config-deploy-example.toml")]),a._v("路径下。")]),a._v(" "),t("p",[a._v("链配置项位于配置"),t("code",[a._v("[chain]")]),a._v("中，链ID为"),t("code",[a._v("chain0")]),a._v(", RPC与SDK之间、Gateway服务之间均采用RSA加密连接主要包括如下配置：")]),a._v(" "),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[a._v("[chain]\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 区块链服务所属的链的ID，默认为chain0")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("chain_id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"chain0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# RPC服务与SDK客户端之间采用的SSL连接类型，false/RSA加密连接，true/国密SSL连接  ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("rpc_sm_ssl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Gateway服务之间的SSL连接类型，false/RSA加密连接，true/国密SSL连接  ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("gateway_sm_ssl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# RPC服务的CA证书路径，若该路径下有完整的CA证书、CA私钥")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('#rpc_ca_cert_path=""')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Gateway服务的CA证书路径，若该路径下有完整的CA证书、CA私钥")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('#gateway_ca_cert_path=""')]),a._v("\n")])])]),t("p",[t("strong",[a._v("🍂RPC服务配置项")])]),a._v(" "),t("p",[a._v("RPC服务的配置项位于"),t("code",[a._v("[[agency]].[agency.rpc]")]),a._v("中，一个机构可部署一个RPC服务，一条链可包含多个机构，主要配置项包括：")]),a._v(" "),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[a._v("[[agency]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("name")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"agencyA"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# enable data disk encryption for rpc/gateway or not, default is false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("enable_storage_security")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# url of the key center, in format of ip:port, please refer to https://github.com/FISCO-BCOS/key-manager for details")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# key_center_url =")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cipher_data_key =")]),a._v("\n\n    [agency.rpc]\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # 服务部署IP，支持多个，单须确保每个IP对应的机器上均安装了tarsnode服务")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    deploy_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('["172.25.0.3"]')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # RPC服务监听IP")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"0.0.0.0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # RPC服务监听端口")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("20200")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # 工作线程数目")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    thread_count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("4")]),a._v("\n")])])]),t("p",[t("strong",[a._v("🍂Gateway服务配置项")])]),a._v(" "),t("p",[a._v("RPC服务的配置项位于"),t("code",[a._v("[[agency]].[agency.gateway]")]),a._v("中，一个机构可部署一个Gateway服务，一条链可部署多个Gateway服务，主要配置项包括：")]),a._v(" "),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[a._v("[[agency]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("name")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"agencyA"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# enable data disk encryption for rpc/gateway or not, default is false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("enable_storage_security")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# url of the key center, in format of ip:port, please refer to https://github.com/FISCO-BCOS/key-manager for details")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# key_center_url =")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cipher_data_key =")]),a._v("\n\n    [agency.gateway]\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # Gateway服务的部署IP，若配置多个，则会在多台机器上部署Gateway服务，达到平行扩展的目标。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    deploy_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('["172.25.0.3"]')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # Gateway服务的监听IP，默认为0.0.0.0。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"0.0.0.0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    #  Gateway服务的监听端口，默认为30300。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("30300")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # 所有Gateway服务的连接信息。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    peers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('["172.25.0.3:30300", "172.25.0.3:30301"]')]),a._v("\n")])])]),t("p",[t("strong",[a._v("🍂区块链节点服务配置项:")]),a._v(" "),t("code",[a._v("（群组配置）")])]),a._v(" "),t("p",[a._v("FISCO BCOS Pro版本区块链中每个区块链节点服务均属于一个群组，因此部署区块链节点前，首先需配置群组信息，群组配置项位于"),t("code",[a._v("[[group]]")]),a._v("中，具体如下：")]),a._v(" "),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[a._v("[[group]]\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 区块链节点所属的群组ID，默认为group。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("group_id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"group0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the genesis configuration path of the group, will generate new genesis configuration if not configurated")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# genesis_config_path = ""')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 区块链节点运行的虚拟机类型，目前支持evm和wasm两种类型")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("vm_type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"evm"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 节点账本是否采用国密类型签名、验签、哈希、加密算法，默认为false。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("sm_crypto")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 是否开启权限治理模式")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("auth_check")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 开启权限治理时，指定的初始化治理委员账号地址")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("init_auth_address")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('""')]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 群组配置中还包括了创世块相关的配置：")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 每个leader可以连续打包的区块数目，默认为5。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("leader_period")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("1")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 每个区块中可包含的最大交易数目，默认为1000。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("block_tx_count_limit")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("1000")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 共识算法类型，目前仅支持pbft共识算法。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("consensus_type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"pbft"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 每笔交易运行时消耗的gas上限，默认为300000000。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("gas_limit")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"3000000000"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 数据兼容版本号，默认为3.0.0")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("compatibility_version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"3.0.0"')]),a._v("\n")])])]),t("p",[t("strong",[a._v("🍂区块链节点服务配置项："),t("code",[a._v("部署配置")])])]),a._v(" "),t("p",[a._v("区块链节点服务部署配置项位于"),t("code",[a._v("[[agency]].[[agency.group]].[[agency.group.node]]")]),a._v("中，具体如下：")]),a._v(" "),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[a._v("[[agency]]\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 节点服务名，在服务部署的场景下可不配置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("name")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"agencyA"')]),a._v("\n   [[agency.group]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        group_id")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"group0"')]),a._v("\n        [[agency.group.node]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        node_name")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"node0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # 节点服务部署ip")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        deploy_ip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"172.25.0.3"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # 是否开启落盘加密，默认为false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        enable_storage_security")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # url of the key center, in format of ip:port, please refer to https://github.com/FISCO-BCOS/key-manager for details")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # 若开启了落盘加密，这里可配置key-manager的url")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # key_center_url =")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # 若开启了落盘加密，这里配置数据加密密钥")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # cipher_data_key =")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # 监控服务的监听端口，默认为3902")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        monitor_listen_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"3902"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # 需要监控的区块链节点日志所在路径")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('        # monitor log path example:"/home/fisco/tars/framework/app_log/"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        monitor_log_path")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('""')]),a._v("\n")])])]),t("h3",{attrs:{id:"_1-3-bcosbuilder扩容配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-bcosbuilder扩容配置"}},[a._v("#")]),a._v(" 1.3 BcosBuilder扩容配置")]),a._v(" "),t("p",[t("strong",[a._v("🍂RPC服务扩容配置")])]),a._v(" "),t("p",[t("code",[a._v("BcosBuilder")]),a._v("提供了区块链节点服务扩容、RPC/Gateway服务扩容功能，区块链节点服务扩容的配置模板在"),t("code",[a._v("conf/config-node-expand-example.toml")]),a._v("路径下，RPC/Gateway服务扩容配置模板在"),t("code",[a._v("conf/config-service-expand-example.toml")]),a._v("路径下。")]),a._v(" "),t("p",[a._v("扩容RPC服务"),t("code",[a._v("agencyABcosRpcService")]),a._v("到"),t("code",[a._v("172.25.0.5")]),a._v("的配置示例如下：")]),a._v(" "),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[a._v("[chain]\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 扩容的RPC服务所属的链ID。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("chain_id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"chain0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 扩容的RPC服务与SDK客户端之间是否采用国密SSL连接。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("rpc_sm_ssl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定扩容的RPC服务的CA证书和CA私钥所在路径。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("gateway_sm_ssl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the ca path of the expanded rpc service")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# must ensure that the path configuration is correct, otherwise the ssl verification will fail")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("rpc_ca_cert_path")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"generated/rpc/chain0/ca"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the ca path of the expanded gateway service")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# must ensure that the path configuration is correct, otherwise the ssl verification will fail")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("gateway_ca_cert_path")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"generated/gateway/chain0/ca"')]),a._v("\n\n[[agency]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("name")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"agencyA"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# enable data disk encryption for rpc/gateway or not, default is false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("enable_storage_security")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# url of the key center, in format of ip:port, please refer to https://github.com/FISCO-BCOS/key-manager for details")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# key_center_url =")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cipher_data_key =")]),a._v("\n\n    [agency.rpc]\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # 扩容的RPC服务的部署IP。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    deploy_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('["172.25.0.5"]')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # 指定扩容的RPC服务的监听IP。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"0.0.0.0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # 指定扩容的RPC服务的监听端口。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("10200")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # 扩容的RPC服务的工作线程数目。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    thread_count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("4")]),a._v("\n")])])]),t("p",[t("strong",[a._v("🍂Gateway服务扩容配置")])]),a._v(" "),t("p",[a._v("类似于RPC服务，Gateway服务的扩容配置选项主要位于"),t("code",[a._v("[chain]")]),a._v("和"),t("code",[a._v("[[agency]].[agency.gateway]")]),a._v("配置下。")]),a._v(" "),t("p",[a._v("扩容Gaeway服务"),t("code",[a._v("agencyABcosGatewayService")]),a._v("到"),t("code",[a._v("172.25.0.5")]),a._v("的配置示例如下：")]),a._v(" "),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[a._v("[chain]\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 扩容的Gateway服务所属的链ID。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("chain_id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"chain0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 扩容的Gateway服务与SDK客户端之间是否采用国密SSL连接。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("rpc_sm_ssl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定扩容的Gateway服务的CA证书和CA私钥所在路径。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("gateway_sm_ssl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the ca path of the expanded rpc service")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# must ensure that the path configuration is correct, otherwise the ssl verification will fail")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("rpc_ca_cert_path")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"generated/rpc/chain0/ca"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the ca path of the expanded gateway service")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# must ensure that the path configuration is correct, otherwise the ssl verification will fail")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("gateway_ca_cert_path")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"generated/gateway/chain0/ca"')]),a._v("\n\n[[agency]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("name")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"agencyA"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# enable data disk encryption for rpc/gateway or not, default is false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("enable_storage_security")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# url of the key center, in format of ip:port, please refer to https://github.com/FISCO-BCOS/key-manager for details")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# key_center_url =")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cipher_data_key = ")]),a._v("\n\n    [agency.gateway]\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # 扩容的Gateway服务的部署IP。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    deploy_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('["172.25.0.5"]')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # Gateway服务节点的监听IP，默认为0.0.0.0。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"0.0.0.0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # Gateway服务的监听端口，默认为30300。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("40300")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # Gateway服务的连接信息，须配置所有Gateway服务节点的连接IP和连接端口信息。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    peers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('["172.25.0.3:30300", "172.25.0.3:30301", "172.25.0.5:40300"]')]),a._v("\n")])])]),t("p",[t("strong",[a._v("🍂区块链节点扩容配置")])]),a._v(" "),t("p",[t("code",[a._v("BcosBuilder/pro")]),a._v("提供了区块链节点扩容功能，可为指定群组扩容新的区块链节点服务，区块链节点扩容配置模板位于"),t("code",[a._v("conf/config-node-expand-example.toml")]),a._v("路径下，主要包括"),t("strong",[a._v("链配置")]),a._v("和"),t("strong",[a._v("扩容部署配置")]),a._v("。")]),a._v(" "),t("p",[a._v("为机构"),t("code",[a._v("agencyA")]),a._v("的"),t("code",[a._v("group0")]),a._v("群组扩容节点名为"),t("code",[a._v("node1")]),a._v("和"),t("code",[a._v("node2")]),a._v("的区块链节点服务到"),t("code",[a._v("172.25.0.5")]),a._v("的配置示例如下：")]),a._v(" "),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[a._v("[[agency]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("name")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"agencyA"')]),a._v("\n    [[agency.group]]\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("    # 扩容节点所属群组ID。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        group_id")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"group0"')]),a._v("\n\n        [[agency.group.node]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        node_name")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"node1"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        deploy_ip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"172.25.0.5"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # enable data disk encryption for bcos node or not, default is false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        enable_storage_security")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # url of the key center, in format of ip:port, please refer to https://github.com/FISCO-BCOS/key-manager for details")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # key_center_url =")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # cipher_data_key =")]),a._v("\n\n        [[agency.group.node]]\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # 扩容的区块链节点服务名，不能和已有的区块链节点服务名冲突。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        node_name")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"node2"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # 扩容的区块链节点服务部署IP。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        deploy_ip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"172.25.0.5"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # 扩容节点是否开启落盘加密。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        enable_storage_security")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # url of the key center, in format of ip:port, please refer to https://github.com/FISCO-BCOS/key-manager for details")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # key-manager的url，在开启落盘加密场景中需配置。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # key_center_url =")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # 数据落盘加密密钥，在开启落盘加密场景中需配置。")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # cipher_data_key =")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        monitor_listen_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"3901"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('        # monitor log path example:"/home/fisco/tars/framework/app_log/"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        monitor_log_path")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('""')]),a._v("\n")])])]),t("h3",{attrs:{id:"_1-4-binary命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-binary命令"}},[a._v("#")]),a._v(" 1.4 binary命令")]),a._v(" "),t("p",[a._v("二进制下载命令，目前包括"),t("code",[a._v("-t")]),a._v("("),t("code",[a._v("--type")]),a._v("), "),t("code",[a._v("-v")]),a._v("("),t("code",[a._v("--version")]),a._v(")和"),t("code",[a._v("-p")]),a._v("("),t("code",[a._v("--path")]),a._v(")三个选项，所有选项均是可选的，默认从FISCO BCOS github release tags下载最新版本二进制到"),t("code",[a._v("binary")]),a._v("文件夹")]),a._v(" "),t("p",[a._v("(1)  "),t("code",[a._v("-o , --op")]),a._v("选项：")]),a._v(" "),t("p",[a._v("用于指定操作命令，目前支持"),t("code",[a._v("gen-config, upload, deploy, upgrade, undeploy, expand, start, stop")])]),a._v(" "),t("ul",[t("li",[t("code",[a._v("gen-config")]),a._v(": 产生配置文件。")]),a._v(" "),t("li",[t("code",[a._v("upload")]),a._v(": 在已经存在服务配置的场景下，上传并发布服务，一般和"),t("code",[a._v("gen-config")]),a._v("配合使用，先通过"),t("code",[a._v("gen-config")]),a._v("产生配置文件，然后通过"),t("code",[a._v("upload")]),a._v("指令上传并发布服务配置。")]),a._v(" "),t("li",[t("code",[a._v("deploy")]),a._v(": 部署服务，包括服务配置生成、服务发布两个步骤。")]),a._v(" "),t("li",[t("code",[a._v("undeploy")]),a._v(": 下线服务。")]),a._v(" "),t("li",[t("code",[a._v("upgrade")]),a._v(": 升级服务，用于升级服务的二进制。")]),a._v(" "),t("li",[t("code",[a._v("expand")]),a._v(": 扩容服务。")]),a._v(" "),t("li",[t("code",[a._v("start")]),a._v(": 启动服务。")]),a._v(" "),t("li",[t("code",[a._v("stop")]),a._v(": 停止服务。")])]),a._v(" "),t("p",[a._v("(2)  "),t("code",[a._v("-t, --type")]),a._v("选项")]),a._v(" "),t("p",[a._v("用于指定操作的服务类型，当使用"),t("code",[a._v("-o")]),a._v("("),t("code",[a._v("--op")]),a._v(")选项时，必须设置该选项，目前包括"),t("code",[a._v("rpc, gateway, node")]),a._v(":")]),a._v(" "),t("ul",[t("li",[t("strong",[a._v("rpc")]),a._v(": 指定操作的服务类型为RPC服务。")]),a._v(" "),t("li",[t("strong",[a._v("gateway")]),a._v(": 指定操作的服务类型为Gateway服务。")]),a._v(" "),t("li",[t("strong",[a._v("node")]),a._v(": 指定操作的服务类型为区块链节点服务。")])]),a._v(" "),t("p",[a._v("(3) "),t("code",[a._v("-c, --config")]),a._v("选项")]),a._v(" "),t("p",[a._v("用于指定配置文件路径，默认为"),t("code",[a._v("config.toml")]),a._v("，"),t("code",[a._v("BcosBuilder")]),a._v("提供了四类配置模板：")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("conf/config-build-example.toml")]),a._v(": 去tarsRPC、Gateway和区块链节点管理服务部署建立配置模板。")]),a._v(" "),t("li",[t("code",[a._v("conf/config-deploy-example.toml")]),a._v(": RPC、Gateway和区块链节点管理服务部署配置模板。")]),a._v(" "),t("li",[t("code",[a._v("conf/config-service-expand-example.toml")]),a._v(": RPC、Gateway服务扩容配置模板。")]),a._v(" "),t("li",[t("code",[a._v("conf/config-node-expand-example.toml")]),a._v(": 区块链节点管理服务配置模板。")])]),a._v(" "),t("p",[a._v("(4) "),t("code",[a._v("create-subne")]),a._v("命令")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("-n/--name")]),a._v(": 指定桥接网络的名称，如: "),t("code",[a._v("tars-network")]),a._v("。")]),a._v(" "),t("li",[t("code",[a._v("-s/--subnet")]),a._v(": 指定桥接网络的网段，如: "),t("code",[a._v("172.25.0.0/16")]),a._v("。")])]),a._v(" "),t("h2",{attrs:{id:"_2-ubuntu20-04环境搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-ubuntu20-04环境搭建"}},[a._v("#")]),a._v(" 2. Ubuntu20.04环境搭建")]),a._v(" "),t("h3",{attrs:{id:"_2-1-安装依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-安装依赖"}},[a._v("#")]),a._v(" 2.1 安装依赖")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("root@fisco:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# sudo apt-get update")]),a._v("\nroot@fisco:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# sudo apt-get install -y curl docker.io docker-compose python3 wget python3-pip")]),a._v("\nroot@fisco:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vim  /etc/docker/daemon.json")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"registry-mirrors"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://ably8t50.mirror.aliyuncs.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 加载配置重启服务")]),a._v("\nroot@fisco:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# systemctl daemon-reload")]),a._v("\nroot@fisco:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# systemctl restart docker")]),a._v("\n")])])]),t("h3",{attrs:{id:"_2-2-下载bcosbuilder"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-下载bcosbuilder"}},[a._v("#")]),a._v(" 2.2 下载BcosBuilder")]),a._v(" "),t("p",[a._v("创建fisco的目录，方便操作管理，需要使用pip3安装列表的依赖。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("root@fisco:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# mkdir -p ~/fisco && cd ~/fisco")]),a._v("\nroot@fisco:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# curl -#LO https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/FISCO-BCOS/FISCO-BCOS/releases/v3.0.0/BcosBuilder.tgz && tar -xvf BcosBuilder.tgz")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 安装构建工具依赖包")]),a._v("\nroot@fisco:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cd BcosBuilder && pip3 install -r requirements.txt")]),a._v("\n")])])]),t("h3",{attrs:{id:"_2-3-配置tars服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-配置tars服务"}},[a._v("#")]),a._v(" 2.3 配置Tars服务")]),a._v(" "),t("p",[a._v("Pro版本的FISCO BCOS使用tars服务进行微服务构建和管理，tars服务主要包括"),t("code",[a._v("TarsFramework")]),a._v("和"),t("code",[a._v("TarsNode")]),a._v("，关于tars服务更详细的介绍请参考"),t("a",{attrs:{href:"https://doc.tarsyun.com/#/markdown/TarsCloud/TarsDocs/installation/README.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("这里"),t("OutboundLink")],1),a._v(".")]),a._v(" "),t("p",[t("code",[a._v("BcosBuilder")]),a._v("提供了"),t("code",[a._v("bridge")]),a._v("和"),t("code",[a._v("host")]),a._v("两种网络模式的tars docker配置，单机体验版推荐使用"),t("code",[a._v("bridge")]),a._v("网络模式的tars docker配置，生产环境推荐使用"),t("code",[a._v("host")]),a._v("网络模式的tars docker配置。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 进入BcosBuilder目录")]),a._v("\nroot@fisco:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cd ~/fisco/BcosBuilder/pro")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 创建网段为172.25.0.0/16的bridge类型网络tars-network")]),a._v("\nroot@fisco:BcosBuilder/pro"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# python3 build_chain.py create-subnet -n tars-network -s 172.25.0.0/16")]),a._v("\nroot@fisco:BcosBuilder/pro"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cd ../docker/bridge/linux/framework")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 配置MYSQL密码，这里假设密码设置为000000")]),a._v("\nroot@fisco:framework"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# root@fisco:~# sed -i \'s/MYSQL_ROOT_PASSWORD: ""/MYSQL_ROOT_PASSWORD: "000000"/g\' docker-compose.yml')]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 创建并启动tars管理服务")]),a._v("\nroot@fisco:framework"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# docker-compose up -d")]),a._v("\n")])])]),t("p",[a._v("初次安装tars管理服务后，需要进行如下配置：")]),a._v(" "),t("ul",[t("li",[t("strong",[a._v("登录配置")]),a._v("：初始化管理员用户"),t("code",[a._v("admin")]),a._v("的登录密码。")]),a._v(" "),t("li",[t("strong",[a._v("申请token")]),a._v("：登录到tars网页管理平台申请用于服务构建和管理的token。")])]),a._v(" "),t("p",[a._v("初次使用tars管理平台，输入网址http://127.0.0.1:3000/，参考下图初始化管理员密码，并进入到【admin】->【用户中心】->【token管理】申请token。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fisco-bcos-doc.readthedocs.io/zh_CN/latest/_images/tars_config.gif",alt:"img"}})]),a._v(" "),t("h3",{attrs:{id:"_2-4-部署pro版本区块链节点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-部署pro版本区块链节点"}},[a._v("#")]),a._v(" 2.4 部署Pro版本区块链节点")]),a._v(" "),t("p",[a._v("Pro版本FISCO BCOS包括RPC服务、Gateway服务以及区块链节点服务BcosNodeService。")]),a._v(" "),t("ul",[t("li",[a._v("RPC服务：负责接收客户端请求，并将请求转发到节点进行处理， RPC服务可横向扩展，一个RPC服务可接入多个区块链节点服务")]),a._v(" "),t("li",[a._v("Gateway服务：负责跨机构区块链节点之间的网络通信，Gateway服务横向可扩展，一个Gateway服务可接入多个区块链节点服务")]),a._v(" "),t("li",[a._v("区块链节点服务"),t("code",[a._v("BcosNodeService")]),a._v("：提供区块链相关的服务，包括共识、执行、交易上链等，节点服务通过接入到RPC服务和Gateway服务获取网络通信功能。")])]),a._v(" "),t("p",[a._v("本章以在单机上部署2机构2节点区块链服务为例，介绍Pro版本FISCO BCOS搭建部署流程，对应的服务组网模式如下:")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://fisco-bcos-doc.readthedocs.io/zh_CN/latest/_images/pro_topology.png",alt:"img"}})]),a._v(" "),t("h3",{attrs:{id:"_2-5-下载二进制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-下载二进制"}},[a._v("#")]),a._v(" 2.5 下载二进制")]),a._v(" "),t("p",[a._v("构建Pro版本FISCO BCOS前，需要先下载二进制包，"),t("code",[a._v("BcosBuilder")]),a._v("的提供了基于linux的静态二进制包下载功能，可部署到"),t("code",[a._v("tarsnode")]),a._v("中，下载最新二进制的命令如下：")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("root@fisco:BcosBuilder/pro"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# python3 build_chain.py download_binary -t cdn")]),a._v("\n")])])]),t("h3",{attrs:{id:"_2-6-部署所有服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-部署所有服务"}},[a._v("#")]),a._v(" 2.6 部署所有服务")]),a._v(" "),t("p",[a._v("分别部署服务步骤如下：")]),a._v(" "),t("ol",[t("li",[a._v("部署RPC服务")]),a._v(" "),t("li",[a._v("部署Gateway服务")]),a._v(" "),t("li",[a._v("部署Node服务")]),a._v(" "),t("li",[a._v("部署Monitor服务")])]),a._v(" "),t("p",[a._v("config.toml的配置文件如下：")]),a._v(" "),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[a._v("[chain]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("chain_id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"chain0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the rpc-service enable sm-ssl or not, default disable sm-ssl")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("rpc_sm_ssl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the gateway-service enable sm-ssl or not, default disable sm-ssm")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("gateway_sm_ssl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the existed rpc service ca path, will generate new ca if not configured")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('#rpc_ca_cert_path=""')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the existed gateway service ca path, will generate new ca if not configured")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('#gateway_ca_cert_path="')]),a._v("\n\n[[group]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("group_id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"group0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the genesis configuration path of the group, will generate new genesis configuration if not configured")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# genesis_config_path = ""')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# VM type, now only support evm/wasm")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("vm_type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"evm"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# use sm-crypto or not")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("sm_crypto")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# enable auth-check or not")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("auth_check")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("init_auth_address")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('""')]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the genesis config")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the number of blocks generated by each leader")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("leader_period")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("1")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the max number of transactions of a block")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("block_tx_count_limit")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("1000")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# consensus algorithm now support PBFT(consensus_type=pbft)")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("consensus_type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"pbft"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# transaction gas limit")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("gas_limit")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"3000000000"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# compatible version, can be dynamically upgraded through setSystemConfig")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the default is 3.0.0-rc4")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("compatibility_version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"3.0.0"')]),a._v("\n\n[[agency]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("name")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"agencyA"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# enable data disk encryption for rpc/gateway or not, default is false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("enable_storage_security")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# url of the key center, in format of ip:port, please refer to https://github.com/FISCO-BCOS/key-manager for details")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# key_center_url = ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cipher_data_key = ")]),a._v("\n\n    [agency.rpc]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    deploy_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('["172.25.0.3"]')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"0.0.0.0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("20200")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    thread_count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("4")]),a._v("\n\n    [agency.gateway]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    deploy_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('["172.25.0.3"]')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"0.0.0.0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("30300")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    peers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('["172.25.0.3:30300", "172.25.0.3:30301"]')]),a._v("\n\n    [[agency.group]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        group_id")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"group0"')]),a._v("\n        [[agency.group.node]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        node_name")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"node0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        deploy_ip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"172.25.0.3"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # enable data disk encryption for bcos node or not, default is false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        enable_storage_security")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # url of the key center, in format of ip:port, please refer to https://github.com/FISCO-BCOS/key-manager for details")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # key_center_url = ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # cipher_data_key =")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        monitor_listen_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"3902"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('        # monitor log path example:"/home/fisco/tars/framework/app_log/" ')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        monitor_log_path")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"" ')]),a._v("\n\n[[agency]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("name")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"agencyB"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# enable data disk encryption for rpc/gateway or not, default is false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("enable_storage_security")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# url of the key center, in format of ip:port, please refer to https://github.com/FISCO-BCOS/key-manager for details")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# key_center_url = ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cipher_data_key = ")]),a._v("\n\n    [agency.rpc]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    deploy_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('["172.25.0.3"]')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"0.0.0.0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("20201")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    thread_count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("4")]),a._v("\n\n    [agency.gateway]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    deploy_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('["172.25.0.3"]')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_ip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"0.0.0.0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    listen_port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("30301")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("    peers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('["172.25.0.3:30300", "172.25.0.3:30301"]')]),a._v("\n\n    [[agency.group]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        group_id")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"group0"')]),a._v("\n        \n        [[agency.group.node]]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        node_name")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"node0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        deploy_ip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"172.25.0.3"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # enable data disk encryption for bcos node or not, default is false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        enable_storage_security")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # url of the key center, in format of ip:port, please refer to https://github.com/FISCO-BCOS/key-manager for details")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # key_center_url = ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("        # cipher_data_key =")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        monitor_listen_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"3901"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('        # monitor log path example:"/home/fisco/tars/framework/app_log/" ')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("        monitor_log_path")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('""')]),a._v("\n")])])]),t("p",[a._v("将写好的部署配置文件，粘贴一份到当前的pro目录下：")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 进入操作目录")]),a._v("\nroot@fisco:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cd ~/fisco/BcosBuilder/pro")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 从conf目录拷贝配置")]),a._v("\nroot@fisco:BcosBuilder/pro"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cp conf/config-deploy-example.toml config.toml")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 1.部署RPC服务")]),a._v("\nroot@fisco:BcosBuilder/pro"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# python3 build_chain.py chain -o deploy -t rpc")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 2.部署Gateway服务")]),a._v("\nroot@fisco:BcosBuilder/pro"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# python3 build_chain.py chain -o deploy -t gateway")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 3.部署Node服务")]),a._v("\nroot@fisco:BcosBuilder/pro"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# python3 build_chain.py chain -o deploy -t node ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 4.部署Monitor服务")]),a._v("\nroot@fisco:BcosBuilder/pro"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# python3 build_chain.py chain -o deploy -t monitor")]),a._v("\n")])])]),t("p",[a._v("访问验证如下：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/cn-zhangyh/image/main/img/image-20220904205147336.png",alt:"image-20220904205147336"}})]),a._v(" "),t("h3",{attrs:{id:"_2-7-配置控制台"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-配置控制台"}},[a._v("#")]),a._v(" 2.7 配置控制台")]),a._v(" "),t("p",[a._v("控制台同时适用于Pro版本和Air版本的FISCO BCOS区块链，且在体验上完全一致。Pro版本区块链体验环境搭建完毕后，可配置并使用控制台向Pro版本区块链发送交易。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("root@fisco:BcosBuilder/pro"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# sudo apt install -y default-jdk")]),a._v("\nroot@fisco:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cd ~/fisco && curl -#LO https://gitee.com/FISCO-BCOS/console/raw/master/tools/download_console.sh")]),a._v("\nroot@fisco:fisco"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cp -n console/conf/config-example.toml console/conf/config.toml")]),a._v("\nroot@fisco:fisco"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cp -r BcosBuilder/pro/generated/rpc/chain0/agencyBBcosRpcService/172.25.0.3/sdk/* console/conf")]),a._v("\n")])])]),t("p",[a._v("启动并使用控制台")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("root@fisco:fisco"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# bash start.sh")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("\nWelcome to FISCO BCOS console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.0")]),a._v(".0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\nType "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'help'")]),a._v(" or "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'h'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" help. Type "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'quit'")]),a._v(" or "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'q'")]),a._v(" to quit console.\n ________ ______  ______   ______   ______       _______   ______   ______   ______\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("        "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("/      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" /      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" /      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("       "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" /      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" /      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" /      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("$"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("$"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("__     "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("___"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("$"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("$"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("__/ $"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("$"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" $"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("___"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    $"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("$    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("  _"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("   __"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("$"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("   __"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("_"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("      _"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("_"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("__"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" $"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("__/  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("__/ "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("__/ $"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("__/  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("__/ $"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("__"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("   "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("$  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);